{"remainingRequest":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\project\\vue project\\project_it\\src\\components\\confirmOrder\\OrderList.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\project\\vue project\\project_it\\src\\components\\confirmOrder\\OrderList.vue","mtime":1659523160000},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\babel-loader\\lib\\index.js","mtime":1723791157083},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js","mtime":1723791156488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgQW5pbWF0ZWROdW1iZXIgZnJvbSAiYW5pbWF0ZWQtbnVtYmVyLXZ1ZSI7DQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiT3JkZXJMaXN0IiwNCiAgcHJvcHM6IHsNCiAgICBkYXRhOiBBcnJheSwNCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIEFuaW1hdGVkTnVtYmVyLA0KICB9LA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlkX21lbWJlcjogdGhpcy4kc2Vzc2lvbi5nZXQoImlkX21lbWJlciIpLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBkZWwoaW5kZXgpIHsNCiAgICAgIGxldCBpbnB1dCA9IHRoaXMuJHJlZnNbImlucHV0XyIgKyBgJHtpbmRleH1gXTsNCg0KICAgICAgaWYgKGlucHV0WzBdLnZhbHVlID09IDEpIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaW5wdXRbMF0udmFsdWUtLTsNCiAgICAgICAgbGV0IGlkID0gdGhpcy4kcmVmc1siaWRfIiArIGAke2luZGV4fWBdOw0KICAgICAgICBsZXQgaWRDYXJ0ID0gdGhpcy4kcmVmc1siaWRDYXJ0XyIgKyBgJHtpbmRleH1gXTsNCg0KICAgICAgICBheGlvcw0KICAgICAgICAgIC5wb3N0KGAke3RoaXMuJFVSTH0vVXNlci9jYXJ0LnBocGAsIHsNCiAgICAgICAgICAgIGFjdGlvbjogInVwZGF0ZUNhcnREZWwiLA0KICAgICAgICAgICAgcXR5OiAxLA0KICAgICAgICAgICAgaWQ6IGlkWzBdLnZhbHVlLA0KICAgICAgICAgICAgaWRDYXJ0OiBpZENhcnRbMF0udmFsdWUsDQogICAgICAgICAgICBpZF9tZW1iZXI6IHRoaXMuaWRfbWVtYmVyLA0KICAgICAgICAgIH0pDQogICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgdGhpcy4kZW1pdCgidXBkYXRlQ2FydCIpOw0KICAgICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkKGluZGV4KSB7DQogICAgICBsZXQgaW5wdXQgPSB0aGlzLiRyZWZzWyJpbnB1dF8iICsgYCR7aW5kZXh9YF07DQogICAgICBpZiAoaW5wdXRbMF0udmFsdWUgPT0gdGhpcy5kYXRhW2luZGV4XS5wcm9kdWN0TnVtKSB7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlucHV0WzBdLnZhbHVlKys7DQogICAgICAgIGxldCBpZCA9IHRoaXMuJHJlZnNbImlkXyIgKyBgJHtpbmRleH1gXTsNCiAgICAgICAgbGV0IGlkQ2FydCA9IHRoaXMuJHJlZnNbImlkQ2FydF8iICsgYCR7aW5kZXh9YF07DQoNCiAgICAgICAgYXhpb3MNCiAgICAgICAgICAucG9zdChgJHt0aGlzLiRVUkx9L1VzZXIvY2FydC5waHBgLCB7DQogICAgICAgICAgICBhY3Rpb246ICJ1cGRhdGVDYXJ0UGx1cyIsDQogICAgICAgICAgICBxdHk6IDEsDQogICAgICAgICAgICBpZDogaWRbMF0udmFsdWUsDQogICAgICAgICAgICBpZENhcnQ6IGlkQ2FydFswXS52YWx1ZSwNCiAgICAgICAgICAgIGlkX21lbWJlcjogdGhpcy5pZF9tZW1iZXIsDQogICAgICAgICAgfSkNCiAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGVDYXJ0Iik7DQogICAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCg0KICAgIGRlbGV0ZVByb2R1Y3QoaW5kZXgpIHsNCiAgICAgIGxldCBpZCA9IHRoaXMuJHJlZnNbImlkXyIgKyBgJHtpbmRleH1gXTsNCiAgICAgIGxldCBpbnB1dCA9IHRoaXMuJHJlZnNbImlucHV0XyIgKyBgJHtpbmRleH1gXTsNCg0KICAgICAgdGhpcy4kc3dhbCh7DQogICAgICAgIGljb246ICJlcnJvciIsDQogICAgICAgIHRpdGxlOiAi4Lii4Li34LiZ4Lii4Lix4LiZ4LiB4Liy4Lij4Lil4LiaIiwNCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLguJXguIHguKXguIciLA0KICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjRUI0MjQ3IiwNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuC4ouC4geC5gOC4peC4tOC4gSIsDQogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiIzFDOUUzRiIsDQogICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgew0KICAgICAgICAgIGF4aW9zDQogICAgICAgICAgICAucG9zdChgJHt0aGlzLiRVUkx9L1VzZXIvY2FydC5waHBgLCB7DQogICAgICAgICAgICAgIGFjdGlvbjogImRlbGV0ZVByb2R1Y3QiLA0KICAgICAgICAgICAgICBpZDogaWRbMF0udmFsdWUsDQogICAgICAgICAgICAgIGlkX21lbWJlcjogdGhpcy5pZF9tZW1iZXIsDQogICAgICAgICAgICAgIHF0eTogaW5wdXRbMF0udmFsdWUsDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGVDYXJ0Iik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBmb3JtYXRUb1ByaWNlKHZhbHVlKSB7DQogICAgICB2YXIgbnVtMSA9IGAke3ZhbHVlLnRvRml4ZWQoKX1gOw0KICAgICAgdmFyIG51bWJlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgpLmZvcm1hdChudW0xKTsNCiAgICAgIHJldHVybiBudW1iZXI7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["OrderList.vue"],"names":[],"mappings":";AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderList.vue","sourceRoot":"src/components/confirmOrder","sourcesContent":["<template>\r\n  <div class=\"\">\r\n    <div class=\"row bg-white py-3 border boxraduis\">\r\n      <div class=\"col-6 d-flex align-items-center justify-content-start\">\r\n        <h2 class=\"p-0 m-0\">รายการสินค้า</h2>\r\n      </div>\r\n      <div class=\"col-2 text-center boxMenu\">ราคา</div>\r\n      <div class=\"col-2 text-center boxMenu\">จำนวน</div>\r\n      <div class=\"col-2 text-center boxMenu\">ยอดรวมสินค้า</div>\r\n    </div>\r\n    <div\r\n      v-for=\"(item, index) in data\"\r\n      :key=\"index\"\r\n      class=\"row bg-white my-1 border py-2 boxraduis\"\r\n    >\r\n      <div class=\"col-6 d-flex align-items-center\">\r\n        <div>\r\n          <img\r\n            :src=\"`${$URL}/imgProduct/${item.img_product}`\"\r\n            alt=\"\"\r\n            width=\"100px\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <p class=\"ps-3\">\r\n            {{ item.productName }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"\r\n          col-2\r\n          text-center\r\n          d-flex\r\n          justify-content-center\r\n          align-items-center\r\n        \"\r\n      >\r\n        &#3647; {{ item.productPrice | numFormat }}\r\n      </div>\r\n      <div class=\"col-2 d-flex justify-content-center align-items-center\">\r\n        <div class=\"row\">\r\n          <div class=\"boxnum d-flex align-items-center\">\r\n            <input\r\n              type=\"number\"\r\n              :value=\"item.Total\"\r\n              :ref=\"`input_${index}`\"\r\n              readonly\r\n            />\r\n            <input\r\n              type=\"hidden\"\r\n              :value=\"item.id_product\"\r\n              :ref=\"`id_${index}`\"\r\n            />\r\n            <input\r\n              type=\"hidden\"\r\n              :value=\"item.id_cart\"\r\n              :ref=\"`idCart_${index}`\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"\r\n          col-2\r\n          position-relative\r\n          d-flex\r\n          align-items-center\r\n          justify-content-center\r\n        \"\r\n      >\r\n        <p class=\"text-center p-0 m-0\">\r\n          &#3647;\r\n          <animated-number\r\n            :value=\"item.productPrice * item.Total\"\r\n            :formatValue=\"formatToPrice\"\r\n            :duration=\"500\"\r\n          />\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AnimatedNumber from \"animated-number-vue\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"OrderList\",\r\n  props: {\r\n    data: Array,\r\n  },\r\n  components: {\r\n    AnimatedNumber,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      id_member: this.$session.get(\"id_member\"),\r\n    };\r\n  },\r\n  methods: {\r\n    del(index) {\r\n      let input = this.$refs[\"input_\" + `${index}`];\r\n\r\n      if (input[0].value == 1) {\r\n        return;\r\n      } else {\r\n        input[0].value--;\r\n        let id = this.$refs[\"id_\" + `${index}`];\r\n        let idCart = this.$refs[\"idCart_\" + `${index}`];\r\n\r\n        axios\r\n          .post(`${this.$URL}/User/cart.php`, {\r\n            action: \"updateCartDel\",\r\n            qty: 1,\r\n            id: id[0].value,\r\n            idCart: idCart[0].value,\r\n            id_member: this.id_member,\r\n          })\r\n          .then(() => {\r\n            this.$emit(\"updateCart\");\r\n          });\r\n      }\r\n    },\r\n    add(index) {\r\n      let input = this.$refs[\"input_\" + `${index}`];\r\n      if (input[0].value == this.data[index].productNum) {\r\n        return;\r\n      } else {\r\n        input[0].value++;\r\n        let id = this.$refs[\"id_\" + `${index}`];\r\n        let idCart = this.$refs[\"idCart_\" + `${index}`];\r\n\r\n        axios\r\n          .post(`${this.$URL}/User/cart.php`, {\r\n            action: \"updateCartPlus\",\r\n            qty: 1,\r\n            id: id[0].value,\r\n            idCart: idCart[0].value,\r\n            id_member: this.id_member,\r\n          })\r\n          .then(() => {\r\n            this.$emit(\"updateCart\");\r\n          });\r\n      }\r\n    },\r\n\r\n    deleteProduct(index) {\r\n      let id = this.$refs[\"id_\" + `${index}`];\r\n      let input = this.$refs[\"input_\" + `${index}`];\r\n\r\n      this.$swal({\r\n        icon: \"error\",\r\n        title: \"ยืนยันการลบ\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"ตกลง\",\r\n        confirmButtonColor: \"#EB4247\",\r\n        cancelButtonText: \"ยกเลิก\",\r\n        cancelButtonColor: \"#1C9E3F\",\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .post(`${this.$URL}/User/cart.php`, {\r\n              action: \"deleteProduct\",\r\n              id: id[0].value,\r\n              id_member: this.id_member,\r\n              qty: input[0].value,\r\n            })\r\n            .then(() => {\r\n              this.$emit(\"updateCart\");\r\n            });\r\n        }\r\n      });\r\n    },\r\n    formatToPrice(value) {\r\n      var num1 = `${value.toFixed()}`;\r\n      var number = new Intl.NumberFormat().format(num1);\r\n      return number;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbutton {\r\n  background: none;\r\n  border: none;\r\n  border: 0.01rem solid #c5604e;\r\n  background-color: #c5604e;\r\n}\r\nbutton:focus,\r\nbutton:active {\r\n  outline: none;\r\n  box-shadow: none;\r\n}\r\n.boxnum {\r\n  border: none;\r\n}\r\n.boxnum button {\r\n  width: 2rem;\r\n  height: 2rem;\r\n  color: rgb(255, 255, 255);\r\n  /* border-radius: 5px; */\r\n}\r\n.boxnum input {\r\n  width: 4rem;\r\n  height: 2rem;\r\n  text-align: center;\r\n  font-size: 1.2rem;\r\n  border: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  border-radius: 0;\r\n}\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n.btnDelete {\r\n  font-size: 1.1rem;\r\n  color: #c5604e;\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: -1.1rem;\r\n  padding-right: 1.1rem;\r\n  cursor: pointer;\r\n}\r\n.boxMenu {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: bold;\r\n  font-size: 1.1rem;\r\n}\r\n.checkProduct {\r\n  filter: grayscale(100%);\r\n  opacity: 0.5;\r\n}\r\n.btnCart {\r\n  background-color: #c5604e;\r\n  border: none;\r\n  font-size: 1.1rem;\r\n  color: white;\r\n  padding: 0.01rem 0.5rem;\r\n  margin-left: 1rem;\r\n  width: 5rem;\r\n  height: 2rem;\r\n  border-radius: 1.1rem;\r\n}\r\n</style>\r\n"]}]}