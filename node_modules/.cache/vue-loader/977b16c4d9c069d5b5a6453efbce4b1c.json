{"remainingRequest":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\project\\vue project\\project_it\\src\\components\\profile\\Repassword.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\project\\vue project\\project_it\\src\\components\\profile\\Repassword.vue","mtime":1661616379658},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1723791156499},{"path":"F:\\project\\vue project\\project_it\\node_modules\\babel-loader\\lib\\index.js","mtime":1723791157083},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js","mtime":1723791156488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IHsgcmVxdWlyZWQsIG1pbkxlbmd0aCwgc2FtZUFzIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlJlcGFzc3dvcmQiLA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgIHBhc3N3b3JkMTogIiIsDQogICAgICBwYXNzd29yZDI6ICIiLA0KICAgIH07DQogIH0sDQogIHZhbGlkYXRpb25zOiB7DQogICAgcGFzc3dvcmQ6IHsNCiAgICAgIHJlcXVpcmVkLA0KICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNiksDQogICAgfSwNCiAgICBwYXNzd29yZDE6IHsNCiAgICAgIHJlcXVpcmVkLA0KICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNiksDQogICAgfSwNCiAgICBwYXNzd29yZDI6IHsNCiAgICAgIHJlcXVpcmVkLA0KICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNiksDQogICAgICBzYW1lQXNQYXNzd29yZDogc2FtZUFzKCJwYXNzd29yZDEiKSwNCiAgICB9LA0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBzdWJtaXQoKSB7DQogICAgICB0aGlzLiR2LiR0b3VjaCgpOw0KICAgICAgaWYgKHRoaXMuJHYuJGludmFsaWQpIHsNCiAgICAgICAgY29uc29sZS5sb2coIkVycm9yIik7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBheGlvcw0KICAgICAgICAgIC5wb3N0KGAke3RoaXMuJFVSTH0vVXNlci9tZW1iZXIucGhwYCwgew0KICAgICAgICAgICAgYWN0aW9uOiAiUmVwYXNzd29yZCIsDQogICAgICAgICAgICBpZF91c2VyOiB0aGlzLiRzZXNzaW9uLmdldCgiaWRfbWVtYmVyIiksDQogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwNCiAgICAgICAgICAgIHBhc3N3b3JkMTogdGhpcy5wYXNzd29yZDEsDQogICAgICAgICAgfSkNCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICBpZiAocmVzLmRhdGEgPT0gIlN1Y2Nlc3MiKSB7DQogICAgICAgICAgICAgIHRoaXMuJHN3YWwoew0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAiY2VudGVyIiwNCiAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsDQogICAgICAgICAgICAgICAgdGl0bGU6ICLguK3guLHguJvguYDguJTguJXguILguYnguK3guKHguLnguKXguKrguLPguYDguKPguYfguIgiLA0KICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICB0aW1lcjogMTUwMCwNCiAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5sb2dPdXQoKTsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLiRzd2FsKHsNCiAgICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLA0KICAgICAgICAgICAgICAgIHRpdGxlOiAi4Lij4Lir4Lix4Liq4Lic4LmI4Liy4LiZ4LmE4Lih4LmI4LiW4Li54LiB4LiV4LmJ4Lit4LiHIiwNCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuC4leC4geC4peC4hyIsDQogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiI0VCNDI0NyIsDQogICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMucmVzZXREYXRhKCk7DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgbG9nT3V0KCkgew0KICAgICAgdGhpcy4kc2Vzc2lvbi5kZXN0cm95KCk7DQogICAgICB0aGlzLiRyb290LiRlbWl0KCJsb2dpblBhZ2UiKTsNCiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoImxvZ291dFBhZ2UiKTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvTG9naW4iKTsNCiAgICB9LA0KICAgIHJlc2V0RGF0YSgpIHsNCiAgICAgIHRoaXMucGFzc3dvcmQgPSBudWxsOw0KICAgICAgdGhpcy5wYXNzd29yZDEgPSBudWxsOw0KICAgICAgdGhpcy5wYXNzd29yZDIgPSBudWxsOw0KICAgICAgdGhpcy4kdi4kcmVzZXQoKTsNCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuJHJvb3QuJGVtaXQoIlJlcGFzc3dvcmQiKTsNCiAgICBkb2N1bWVudC50aXRsZSA9ICJQZXBlbnN1ZGEgU2hvcCBQcm9maWxlIjsNCiAgfSwNCn07DQo="},{"version":3,"sources":["Repassword.vue"],"names":[],"mappings":";AA+EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Repassword.vue","sourceRoot":"src/components/profile","sourcesContent":["<template>\r\n  <div class=\"boxraduis mt-3\">\r\n    <div class=\"row p-3\">\r\n      <div class=\"col-md-6\">\r\n        <h4>เปลี่ยนรหัสผ่าน</h4>\r\n        <form @submit.prevent=\"submit\">\r\n          <div class=\"group mt-3\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              :class=\"{\r\n                checkInput: password,\r\n              }\"\r\n              v-model=\"$v.password.$model\"\r\n            />\r\n            <span class=\"highlight\"></span>\r\n            <span class=\"bar\"></span>\r\n            <label>รหัสผ่านปัจจุบัน</label>\r\n            <span class=\"text-danger\" v-if=\"$v.password.$error\"\r\n              >รหัสผ่านปัจจุบัน</span\r\n            >\r\n            <span class=\"text-danger\" v-if=\"!$v.password.minLength\">\r\n              {{ $v.password.$params.minLength.min }} ตัวอักษรขึ้นไป\r\n            </span>\r\n          </div>\r\n          <div class=\"group mt-3\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password1\"\r\n              :class=\"{\r\n                checkInput: password1,\r\n              }\"\r\n              v-model=\"$v.password1.$model\"\r\n            />\r\n            <span class=\"highlight\"></span>\r\n            <span class=\"bar\"></span>\r\n            <label>รหัสผ่านใหม่</label>\r\n            <span class=\"text-danger\" v-if=\"$v.password1.$error\"\r\n              >รหัสผ่านใหม่</span\r\n            >\r\n            <span class=\"text-danger\" v-if=\"!$v.password1.minLength\">\r\n              {{ $v.password1.$params.minLength.min }} ตัวอักษรขึ้นไป\r\n            </span>\r\n          </div>\r\n          <div class=\"group mt-3\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password2\"\r\n              :class=\"{\r\n                checkInput: password2,\r\n              }\"\r\n              v-model=\"$v.password2.$model\"\r\n            />\r\n            <span class=\"highlight\"></span>\r\n            <span class=\"bar\"></span>\r\n            <label>ยืนยันรหัสผ่านใหม่</label>\r\n            <span class=\"text-danger\" v-if=\"$v.password2.$error\"\r\n              >ยืนยันรหัสผ่านใหม่</span\r\n            >\r\n            <span class=\"text-danger\" v-if=\"!$v.password2.minLength\">\r\n              {{ $v.password2.$params.minLength.min }} ตัวอักษรขึ้นไป\r\n            </span>\r\n            <span class=\"text-danger\" v-if=\"!$v.password2.sameAsPassword\"\r\n              >รหัสผ่านไม่ตรงกัน</span\r\n            >\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btnDefault rounded-pill\">\r\n            ตกลง\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <div class=\"col-md-6 d-flex align-items-center justify-content-center\">\r\n        <img src=\"../../assets/icon/privacy.png\" alt=\"\" class=\"imgPassword\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { required, minLength, sameAs } from \"vuelidate/lib/validators\";\r\nexport default {\r\n  name: \"Repassword\",\r\n\r\n  data() {\r\n    return {\r\n      password: \"\",\r\n      password1: \"\",\r\n      password2: \"\",\r\n    };\r\n  },\r\n  validations: {\r\n    password: {\r\n      required,\r\n      minLength: minLength(6),\r\n    },\r\n    password1: {\r\n      required,\r\n      minLength: minLength(6),\r\n    },\r\n    password2: {\r\n      required,\r\n      minLength: minLength(6),\r\n      sameAsPassword: sameAs(\"password1\"),\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    submit() {\r\n      this.$v.$touch();\r\n      if (this.$v.$invalid) {\r\n        console.log(\"Error\");\r\n      } else {\r\n        axios\r\n          .post(`${this.$URL}/User/member.php`, {\r\n            action: \"Repassword\",\r\n            id_user: this.$session.get(\"id_member\"),\r\n            password: this.password,\r\n            password1: this.password1,\r\n          })\r\n          .then((res) => {\r\n            if (res.data == \"Success\") {\r\n              this.$swal({\r\n                position: \"center\",\r\n                icon: \"success\",\r\n                title: \"อัปเดตข้อมูลสำเร็จ\",\r\n                showConfirmButton: false,\r\n                timer: 1500,\r\n              }).then(() => {\r\n                this.logOut();\r\n              });\r\n            } else {\r\n              this.$swal({\r\n                icon: \"error\",\r\n                title: \"รหัสผ่านไม่ถูกต้อง\",\r\n                showCancelButton: false,\r\n                confirmButtonText: \"ตกลง\",\r\n                confirmButtonColor: \"#EB4247\",\r\n              }).then(() => {\r\n                this.resetData();\r\n              });\r\n            }\r\n          });\r\n      }\r\n    },\r\n    logOut() {\r\n      this.$session.destroy();\r\n      this.$root.$emit(\"loginPage\");\r\n      this.$root.$emit(\"logoutPage\");\r\n      this.$router.push(\"/Login\");\r\n    },\r\n    resetData() {\r\n      this.password = null;\r\n      this.password1 = null;\r\n      this.password2 = null;\r\n      this.$v.$reset();\r\n    },\r\n  },\r\n  created() {\r\n    this.$root.$emit(\"Repassword\");\r\n    document.title = \"Pepensuda Shop Profile\";\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../../assets/css/input.css\";\r\n.btnDefault {\r\n  width: 7rem;\r\n  background-color: #c5604e;\r\n  color: white;\r\n}\r\n.btnDefault:hover {\r\n  color: #ffffff;\r\n  background-color: #efb1a2;\r\n}\r\n.imgPassword {\r\n  width: 10rem;\r\n}\r\n</style>\r\n"]}]}