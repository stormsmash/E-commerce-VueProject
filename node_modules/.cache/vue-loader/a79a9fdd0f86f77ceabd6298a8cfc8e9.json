{"remainingRequest":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\project\\vue project\\project_it\\src\\components\\profile\\Repassword.vue?vue&type=style&index=0&id=3cfa7fe4&prod&scoped=true&lang=css","dependencies":[{"path":"F:\\project\\vue project\\project_it\\src\\components\\profile\\Repassword.vue","mtime":1661616379658},{"path":"F:\\project\\vue project\\project_it\\node_modules\\css-loader\\dist\\cjs.js","mtime":1723791155536},{"path":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1723791157759},{"path":"F:\\project\\vue project\\project_it\\node_modules\\postcss-loader\\src\\index.js","mtime":1723791155876},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js","mtime":1723791156488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpAaW1wb3J0ICIuLi8uLi9hc3NldHMvY3NzL2lucHV0LmNzcyI7DQouYnRuRGVmYXVsdCB7DQogIHdpZHRoOiA3cmVtOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzU2MDRlOw0KICBjb2xvcjogd2hpdGU7DQp9DQouYnRuRGVmYXVsdDpob3ZlciB7DQogIGNvbG9yOiAjZmZmZmZmOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZiMWEyOw0KfQ0KLmltZ1Bhc3N3b3JkIHsNCiAgd2lkdGg6IDEwcmVtOw0KfQ0K"},{"version":3,"sources":["Repassword.vue"],"names":[],"mappings":";AAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Repassword.vue","sourceRoot":"src/components/profile","sourcesContent":["<template>\r\n  <div class=\"boxraduis mt-3\">\r\n    <div class=\"row p-3\">\r\n      <div class=\"col-md-6\">\r\n        <h4>เปลี่ยนรหัสผ่าน</h4>\r\n        <form @submit.prevent=\"submit\">\r\n          <div class=\"group mt-3\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              :class=\"{\r\n                checkInput: password,\r\n              }\"\r\n              v-model=\"$v.password.$model\"\r\n            />\r\n            <span class=\"highlight\"></span>\r\n            <span class=\"bar\"></span>\r\n            <label>รหัสผ่านปัจจุบัน</label>\r\n            <span class=\"text-danger\" v-if=\"$v.password.$error\"\r\n              >รหัสผ่านปัจจุบัน</span\r\n            >\r\n            <span class=\"text-danger\" v-if=\"!$v.password.minLength\">\r\n              {{ $v.password.$params.minLength.min }} ตัวอักษรขึ้นไป\r\n            </span>\r\n          </div>\r\n          <div class=\"group mt-3\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password1\"\r\n              :class=\"{\r\n                checkInput: password1,\r\n              }\"\r\n              v-model=\"$v.password1.$model\"\r\n            />\r\n            <span class=\"highlight\"></span>\r\n            <span class=\"bar\"></span>\r\n            <label>รหัสผ่านใหม่</label>\r\n            <span class=\"text-danger\" v-if=\"$v.password1.$error\"\r\n              >รหัสผ่านใหม่</span\r\n            >\r\n            <span class=\"text-danger\" v-if=\"!$v.password1.minLength\">\r\n              {{ $v.password1.$params.minLength.min }} ตัวอักษรขึ้นไป\r\n            </span>\r\n          </div>\r\n          <div class=\"group mt-3\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password2\"\r\n              :class=\"{\r\n                checkInput: password2,\r\n              }\"\r\n              v-model=\"$v.password2.$model\"\r\n            />\r\n            <span class=\"highlight\"></span>\r\n            <span class=\"bar\"></span>\r\n            <label>ยืนยันรหัสผ่านใหม่</label>\r\n            <span class=\"text-danger\" v-if=\"$v.password2.$error\"\r\n              >ยืนยันรหัสผ่านใหม่</span\r\n            >\r\n            <span class=\"text-danger\" v-if=\"!$v.password2.minLength\">\r\n              {{ $v.password2.$params.minLength.min }} ตัวอักษรขึ้นไป\r\n            </span>\r\n            <span class=\"text-danger\" v-if=\"!$v.password2.sameAsPassword\"\r\n              >รหัสผ่านไม่ตรงกัน</span\r\n            >\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btnDefault rounded-pill\">\r\n            ตกลง\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <div class=\"col-md-6 d-flex align-items-center justify-content-center\">\r\n        <img src=\"../../assets/icon/privacy.png\" alt=\"\" class=\"imgPassword\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { required, minLength, sameAs } from \"vuelidate/lib/validators\";\r\nexport default {\r\n  name: \"Repassword\",\r\n\r\n  data() {\r\n    return {\r\n      password: \"\",\r\n      password1: \"\",\r\n      password2: \"\",\r\n    };\r\n  },\r\n  validations: {\r\n    password: {\r\n      required,\r\n      minLength: minLength(6),\r\n    },\r\n    password1: {\r\n      required,\r\n      minLength: minLength(6),\r\n    },\r\n    password2: {\r\n      required,\r\n      minLength: minLength(6),\r\n      sameAsPassword: sameAs(\"password1\"),\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    submit() {\r\n      this.$v.$touch();\r\n      if (this.$v.$invalid) {\r\n        console.log(\"Error\");\r\n      } else {\r\n        axios\r\n          .post(`${this.$URL}/User/member.php`, {\r\n            action: \"Repassword\",\r\n            id_user: this.$session.get(\"id_member\"),\r\n            password: this.password,\r\n            password1: this.password1,\r\n          })\r\n          .then((res) => {\r\n            if (res.data == \"Success\") {\r\n              this.$swal({\r\n                position: \"center\",\r\n                icon: \"success\",\r\n                title: \"อัปเดตข้อมูลสำเร็จ\",\r\n                showConfirmButton: false,\r\n                timer: 1500,\r\n              }).then(() => {\r\n                this.logOut();\r\n              });\r\n            } else {\r\n              this.$swal({\r\n                icon: \"error\",\r\n                title: \"รหัสผ่านไม่ถูกต้อง\",\r\n                showCancelButton: false,\r\n                confirmButtonText: \"ตกลง\",\r\n                confirmButtonColor: \"#EB4247\",\r\n              }).then(() => {\r\n                this.resetData();\r\n              });\r\n            }\r\n          });\r\n      }\r\n    },\r\n    logOut() {\r\n      this.$session.destroy();\r\n      this.$root.$emit(\"loginPage\");\r\n      this.$root.$emit(\"logoutPage\");\r\n      this.$router.push(\"/Login\");\r\n    },\r\n    resetData() {\r\n      this.password = null;\r\n      this.password1 = null;\r\n      this.password2 = null;\r\n      this.$v.$reset();\r\n    },\r\n  },\r\n  created() {\r\n    this.$root.$emit(\"Repassword\");\r\n    document.title = \"Pepensuda Shop Profile\";\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../../assets/css/input.css\";\r\n.btnDefault {\r\n  width: 7rem;\r\n  background-color: #c5604e;\r\n  color: white;\r\n}\r\n.btnDefault:hover {\r\n  color: #ffffff;\r\n  background-color: #efb1a2;\r\n}\r\n.imgPassword {\r\n  width: 10rem;\r\n}\r\n</style>\r\n"]}]}