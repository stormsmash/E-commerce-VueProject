{"remainingRequest":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\project\\vue project\\project_it\\src\\components\\profile\\ProfileMe.vue?vue&type=style&index=0&id=2f201fd3&prod&scoped=true&lang=css","dependencies":[{"path":"F:\\project\\vue project\\project_it\\src\\components\\profile\\ProfileMe.vue","mtime":1661616379658},{"path":"F:\\project\\vue project\\project_it\\node_modules\\css-loader\\dist\\cjs.js","mtime":1723791155536},{"path":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1723791157759},{"path":"F:\\project\\vue project\\project_it\\node_modules\\postcss-loader\\src\\index.js","mtime":1723791155876},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js","mtime":1723791156488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpAaW1wb3J0ICIuLi8uLi9hc3NldHMvY3NzL2lucHV0LmNzcyI7DQouYm94IHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCiAgYm9yZGVyOiAwLjAxcmVtIHNvbGlkICM5NDBiMDE7DQogIGJvcmRlci1yYWRpdXM6IDAuNXJlbTsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgcGFkZGluZzogMS4zcmVtIDAuNXJlbTsNCiAgbWFyZ2luLXRvcDogMC41cmVtOw0KfQ0KLmlucHV0LWdyb3VwLXRleHQgew0KICBiYWNrZ3JvdW5kOiBub25lOw0KICBib3JkZXI6IG5vbmU7DQp9DQouaW5wdXQtZ3JvdXAgew0KICBtYXJnaW4tdG9wOiAwLjRyZW07DQp9DQouYm94SW5wdXQgew0KICB3aWR0aDogNDNyZW07DQp9DQpzcGFuIHsNCiAgZm9udC1zaXplOiAxLjFyZW07DQp9DQouYm94SW1nIHsNCiAgd2lkdGg6IDIwcmVtOw0KICBoZWlnaHQ6IDIwcmVtOw0KICBtYXJnaW46IDAgYXV0bzsNCn0NCi5ib3hJbWcgaW1nIHsNCiAgd2lkdGg6IDEwcmVtOw0KICBoZWlnaHQ6IDEwcmVtOw0KICBtYXJnaW46IDAgYXV0bzsNCiAgYm9yZGVyOiAwLjAxcmVtIHNvbGlkIGJsYWNrOw0KICBvYmplY3QtZml0OiBjb3ZlcjsNCn0NCg0KaW5wdXRbdHlwZT0iZmlsZSJdIHsNCiAgZGlzcGxheTogbm9uZTsNCn0NCi5jdXN0b20tZmlsZS11cGxvYWQgew0KICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOw0KICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogIHBhZGRpbmc6IDAuNXJlbSAwLjlyZW07DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCnAgew0KICBmb250LXNpemU6IDAuOXJlbTsNCn0NCmlucHV0W3R5cGU9InJhZGlvIl06Y2hlY2tlZCB7DQogIGJvcmRlcjogbm9uZTsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmVkOw0KfQ0KYnV0dG9uIHsNCiAgd2lkdGg6IDEwcmVtOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzU2MDRlOw0KICBjb2xvcjogd2hpdGU7DQp9DQpidXR0b246aG92ZXIgew0KICBjb2xvcjogI2ZmZmZmZjsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2VmYjFhMjsNCn0NCi5Cb3hpbWdQcm9maWxlIHsNCiAgd2lkdGg6IDEwcmVtOw0KICBoZWlnaHQ6IDEwcmVtOw0KfQ0KLkJveGltZ1Byb2ZpbGUgaW1nIHsNCiAgd2lkdGg6IDEwcmVtOw0KICBoZWlnaHQ6IDEwcmVtOw0KICBtYXJnaW46IDAgYXV0bzsNCiAgZGlzcGxheTogYmxvY2s7DQogIG9iamVjdC1maXQ6IGNvdmVyOw0KICBvYmplY3QtcG9zaXRpb246IGNlbnRlcjsNCn0NCi5ib3hEYXRhIHsNCiAgYm9yZGVyLXJpZ2h0OiAwLjAxcmVtIHNvbGlkICNjY2M7DQp9DQo="},{"version":3,"sources":["ProfileMe.vue"],"names":[],"mappings":";AAyRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProfileMe.vue","sourceRoot":"src/components/profile","sourcesContent":["<template>\r\n  <div class=\"boxraduis mt-3\">\r\n    <div>\r\n      <div class=\"row mt-1 p-2\">\r\n        <h4>ข้อมูลของฉัน</h4>\r\n        <h6 class=\"mb-3\">\r\n          จัดการข้อมูลส่วนตัวคุณเพื่อความปลอดภัยของบัญชีผู้ใช้นี้\r\n        </h6>\r\n        <hr />\r\n        <div class=\"row\">\r\n          <div class=\"col-8 boxData\">\r\n            <div class=\"boxInput\">\r\n              <div class=\"input-group row\">\r\n                <div class=\"col-3\">\r\n                  <span class=\"input-group-text\">ชื่อ</span>\r\n                </div>\r\n                <div class=\"col-9\">\r\n                  <div class=\"group col-6 m-0 p-0\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      class=\"m-0 p-0\"\r\n                      v-model=\"name\"\r\n                    />\r\n                    <span class=\"highlight\"></span>\r\n                    <span class=\"bar\"></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"input-group row\">\r\n                <div class=\"col-3\">\r\n                  <span class=\"input-group-text\">สกุล</span>\r\n                </div>\r\n                <div class=\"col-9\">\r\n                  <div class=\"group col-6 m-0 p-0\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      class=\"m-0 p-0\"\r\n                      v-model=\"last\"\r\n                    />\r\n                    <span class=\"highlight\"></span>\r\n                    <span class=\"bar\"></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"input-group row\">\r\n                <div class=\"col-3\">\r\n                  <span class=\"input-group-text\">E-Mail</span>\r\n                </div>\r\n                <div class=\"col-9\">\r\n                  <div class=\"group col-6 m-0 p-0\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      class=\"m-0 p-0\"\r\n                      v-model=\"email\"\r\n                      readonly\r\n                    />\r\n                    <span class=\"highlight\"></span>\r\n                    <span class=\"bar\"></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"input-group row\">\r\n                <div class=\"col-3\">\r\n                  <span class=\"input-group-text\">หมายเลขโทรศัพท์</span>\r\n                </div>\r\n                <div class=\"col-9\">\r\n                  <div class=\"group col-6 m-0 p-0\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      class=\"m-0 p-0\"\r\n                      v-model=\"phone\"\r\n                    />\r\n                    <span class=\"highlight\"></span>\r\n                    <span class=\"bar\"></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"input-group row d-flex align-items-center\">\r\n                <div class=\"col-3\">\r\n                  <span class=\"input-group-text\">เพศ</span>\r\n                </div>\r\n                <div class=\"col-9\">\r\n                  <div class=\"p-1\">\r\n                    <div class=\"form-check form-check-inline ml-auto\">\r\n                      <input\r\n                        class=\"form-check-input\"\r\n                        type=\"radio\"\r\n                        name=\"inlineRadioOptions\"\r\n                        id=\"inlineRadio1\"\r\n                        value=\"1\"\r\n                        v-model=\"gender\"\r\n                      />\r\n                      <label class=\"form-check-label\" for=\"inlineRadio1\"\r\n                        >ชาย</label\r\n                      >\r\n                    </div>\r\n                    <div class=\"form-check form-check-inline\">\r\n                      <input\r\n                        class=\"form-check-input\"\r\n                        type=\"radio\"\r\n                        name=\"inlineRadioOptions\"\r\n                        id=\"inlineRadio2\"\r\n                        value=\"2\"\r\n                        v-model=\"gender\"\r\n                      />\r\n                      <label class=\"form-check-label\" for=\"inlineRadio2\"\r\n                        >หญิง</label\r\n                      >\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"input-group row\">\r\n                <div class=\"col-3\">\r\n                  <span class=\"input-group-text\">วัน/เดือน/ปี เกิด </span>\r\n                </div>\r\n                <div class=\"col-9\">\r\n                  <Date @getDay=\"getDay\" :day=\"birthday\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"col-9 ms-auto\">\r\n                <button class=\"btn mt-4 rounded-pill\" @click=\"submit\">\r\n                  บันทึก\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col-4 text-center\">\r\n            <form ref=\"formImg\">\r\n              <div class=\"BoximgProfile mx-auto\">\r\n                <img :src=\"url\" alt=\"\" class=\"rounded-circle\" />\r\n              </div>\r\n\r\n              <div class=\"text-center mt-2\">\r\n                <label for=\"file-upload\" class=\"custom-file-upload\">\r\n                  <i class=\"fas fa-image\"></i> เลือกรูป\r\n                </label>\r\n                <input\r\n                  id=\"file-upload\"\r\n                  name=\"img\"\r\n                  ref=\"img\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  @change=\"onFileChange\"\r\n                />\r\n                <p class=\"mt-2\">ไฟล์ที่รองรับ: .JPEG, .PNG</p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Date from \"./Date.vue\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"ProfileMe\",\r\n  components: { Date },\r\n  data() {\r\n    return {\r\n      id_member: this.$session.get(\"id_member\"),\r\n      name: \"\",\r\n      last: \"\",\r\n      email: this.$session.get(\"email\"),\r\n      phone: \"\",\r\n      gender: \"\",\r\n      birthday: \"\",\r\n      url: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    onFileChange(e) {\r\n      const file = e.target.files[0];\r\n      const typeImg = \"|jpg|png|jpeg\";\r\n      const type = file.type.split(\"/\");\r\n      if (file && typeImg.indexOf(type[1]) !== -1) {\r\n        this.url = URL.createObjectURL(file);\r\n        console.log(\"Success\");\r\n        console.log(this.$refs.img.value);\r\n      } else {\r\n        this.$swal({\r\n          position: \"center\",\r\n          icon: \"error\",\r\n          title: \"ผิดผลาด\",\r\n          text: \"รองรับไฟล์: .JPEG, .PNG เท่านั้น\",\r\n          showCancelButton: false,\r\n          confirmButtonText: \"ตกลง\",\r\n          confirmButtonColor: \"#EB4247\",\r\n        }).then(() => {\r\n          this.$refs.img.value = null;\r\n          this.getData();\r\n        });\r\n      }\r\n    },\r\n\r\n    getDay(date) {\r\n      this.birthday = date;\r\n    },\r\n    submit() {\r\n      axios\r\n        .post(`${this.$URL}/User/member.php`, {\r\n          action: \"update\",\r\n          id_member: this.id_member,\r\n          firstname: this.name,\r\n          lastname: this.last,\r\n          phone: this.phone,\r\n          gender: this.gender,\r\n          birthday: this.birthday,\r\n        })\r\n        .then(() => {\r\n          this.$swal({\r\n            position: \"center\",\r\n            icon: \"success\",\r\n            title: \"อัปเดตข้อมูลสำเร็จ\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n        });\r\n      this.uploadImg();\r\n    },\r\n    getData() {\r\n      axios\r\n        .post(`${this.$URL}/User/member.php`, {\r\n          action: \"getData\",\r\n          id_member: this.id_member,\r\n        })\r\n        .then((res) => {\r\n          this.name = res.data.firstname;\r\n          this.last = res.data.lastname;\r\n          this.phone = res.data.phone;\r\n          this.gender = res.data.gender;\r\n          this.birthday = res.data.birthday;\r\n          this.url = `${this.$URL}/img/${res.data.img}`;\r\n          this.$emit(\"getImg\", `${this.$URL}/img/${res.data.img}`);\r\n          if (\r\n            this.url == `${this.$URL}/img/undefined` ||\r\n            this.url == `${this.$URL}/img/null`\r\n          ) {\r\n            this.url = `${this.$URL}/img/preview.png`;\r\n          }\r\n          this.$root.$emit(\"getImg\");\r\n        });\r\n    },\r\n    uploadImg() {\r\n      const fromData = new FormData(this.$refs[\"formImg\"]);\r\n      for (let key in fromData.entries()) {\r\n        fromData.append(key, fromData[key]);\r\n      }\r\n      fromData.append(\"id_member\", this.$session.get(\"id_member\"));\r\n      fromData.append(\"action\", \"uploadImg\");\r\n\r\n      axios\r\n        .post(`${this.$URL}/User/member.php`, fromData)\r\n        .then(() => {\r\n          this.getData();\r\n          this.$refs.img.value = null;\r\n        })\r\n        .then(() => {\r\n          this.$root.$emit(\"setProfile\");\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n    this.$root.$emit(\"setProfile\");\r\n    this.$root.$emit(\"Profile\");\r\n    document.title = \"Pepensuda Shop Profile\";\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../../assets/css/input.css\";\r\n.box {\r\n  background-color: #ffffff;\r\n  border: 0.01rem solid #940b01;\r\n  border-radius: 0.5rem;\r\n  overflow: hidden;\r\n  padding: 1.3rem 0.5rem;\r\n  margin-top: 0.5rem;\r\n}\r\n.input-group-text {\r\n  background: none;\r\n  border: none;\r\n}\r\n.input-group {\r\n  margin-top: 0.4rem;\r\n}\r\n.boxInput {\r\n  width: 43rem;\r\n}\r\nspan {\r\n  font-size: 1.1rem;\r\n}\r\n.boxImg {\r\n  width: 20rem;\r\n  height: 20rem;\r\n  margin: 0 auto;\r\n}\r\n.boxImg img {\r\n  width: 10rem;\r\n  height: 10rem;\r\n  margin: 0 auto;\r\n  border: 0.01rem solid black;\r\n  object-fit: cover;\r\n}\r\n\r\ninput[type=\"file\"] {\r\n  display: none;\r\n}\r\n.custom-file-upload {\r\n  border: 1px solid #ccc;\r\n  display: inline-block;\r\n  padding: 0.5rem 0.9rem;\r\n  cursor: pointer;\r\n}\r\np {\r\n  font-size: 0.9rem;\r\n}\r\ninput[type=\"radio\"]:checked {\r\n  border: none;\r\n  background-color: red;\r\n}\r\nbutton {\r\n  width: 10rem;\r\n  background-color: #c5604e;\r\n  color: white;\r\n}\r\nbutton:hover {\r\n  color: #ffffff;\r\n  background-color: #efb1a2;\r\n}\r\n.BoximgProfile {\r\n  width: 10rem;\r\n  height: 10rem;\r\n}\r\n.BoximgProfile img {\r\n  width: 10rem;\r\n  height: 10rem;\r\n  margin: 0 auto;\r\n  display: block;\r\n  object-fit: cover;\r\n  object-position: center;\r\n}\r\n.boxData {\r\n  border-right: 0.01rem solid #ccc;\r\n}\r\n</style>\r\n"]}]}