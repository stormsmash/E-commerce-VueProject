{"remainingRequest":"F:\\project\\vue project\\project_it\\node_modules\\thread-loader\\dist\\cjs.js!F:\\project\\vue project\\project_it\\node_modules\\babel-loader\\lib\\index.js!F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\project\\vue project\\project_it\\src\\components\\confirmOrder\\OrderList.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\project\\vue project\\project_it\\src\\components\\confirmOrder\\OrderList.vue","mtime":1659523160000},{"path":"F:\\project\\vue project\\project_it\\babel.config.js","mtime":1659523160000},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1723791156499},{"path":"F:\\project\\vue project\\project_it\\node_modules\\babel-loader\\lib\\index.js","mtime":1723791157083},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js","mtime":1723791156488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFuaW1hdGVkTnVtYmVyIGZyb20gImFuaW1hdGVkLW51bWJlci12dWUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk9yZGVyTGlzdCIsCiAgcHJvcHM6IHsKICAgIGRhdGE6IEFycmF5CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBbmltYXRlZE51bWJlcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkX21lbWJlcjogdGhpcy4kc2Vzc2lvbi5nZXQoImlkX21lbWJlciIpCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZGVsKGluZGV4KSB7CiAgICAgIGxldCBpbnB1dCA9IHRoaXMuJHJlZnNbImlucHV0XyIgKyBgJHtpbmRleH1gXTsKICAgICAgaWYgKGlucHV0WzBdLnZhbHVlID09IDEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW5wdXRbMF0udmFsdWUtLTsKICAgICAgICBsZXQgaWQgPSB0aGlzLiRyZWZzWyJpZF8iICsgYCR7aW5kZXh9YF07CiAgICAgICAgbGV0IGlkQ2FydCA9IHRoaXMuJHJlZnNbImlkQ2FydF8iICsgYCR7aW5kZXh9YF07CiAgICAgICAgYXhpb3MucG9zdChgJHt0aGlzLiRVUkx9L1VzZXIvY2FydC5waHBgLCB7CiAgICAgICAgICBhY3Rpb246ICJ1cGRhdGVDYXJ0RGVsIiwKICAgICAgICAgIHF0eTogMSwKICAgICAgICAgIGlkOiBpZFswXS52YWx1ZSwKICAgICAgICAgIGlkQ2FydDogaWRDYXJ0WzBdLnZhbHVlLAogICAgICAgICAgaWRfbWVtYmVyOiB0aGlzLmlkX21lbWJlcgogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kZW1pdCgidXBkYXRlQ2FydCIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYWRkKGluZGV4KSB7CiAgICAgIGxldCBpbnB1dCA9IHRoaXMuJHJlZnNbImlucHV0XyIgKyBgJHtpbmRleH1gXTsKICAgICAgaWYgKGlucHV0WzBdLnZhbHVlID09IHRoaXMuZGF0YVtpbmRleF0ucHJvZHVjdE51bSkgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICBpbnB1dFswXS52YWx1ZSsrOwogICAgICAgIGxldCBpZCA9IHRoaXMuJHJlZnNbImlkXyIgKyBgJHtpbmRleH1gXTsKICAgICAgICBsZXQgaWRDYXJ0ID0gdGhpcy4kcmVmc1siaWRDYXJ0XyIgKyBgJHtpbmRleH1gXTsKICAgICAgICBheGlvcy5wb3N0KGAke3RoaXMuJFVSTH0vVXNlci9jYXJ0LnBocGAsIHsKICAgICAgICAgIGFjdGlvbjogInVwZGF0ZUNhcnRQbHVzIiwKICAgICAgICAgIHF0eTogMSwKICAgICAgICAgIGlkOiBpZFswXS52YWx1ZSwKICAgICAgICAgIGlkQ2FydDogaWRDYXJ0WzBdLnZhbHVlLAogICAgICAgICAgaWRfbWVtYmVyOiB0aGlzLmlkX21lbWJlcgogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kZW1pdCgidXBkYXRlQ2FydCIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlUHJvZHVjdChpbmRleCkgewogICAgICBsZXQgaWQgPSB0aGlzLiRyZWZzWyJpZF8iICsgYCR7aW5kZXh9YF07CiAgICAgIGxldCBpbnB1dCA9IHRoaXMuJHJlZnNbImlucHV0XyIgKyBgJHtpbmRleH1gXTsKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgaWNvbjogImVycm9yIiwKICAgICAgICB0aXRsZTogIuC4ouC4t+C4meC4ouC4seC4meC4geC4suC4o+C4peC4miIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuC4leC4geC4peC4hyIsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiI0VCNDI0NyIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuC4ouC4geC5gOC4peC4tOC4gSIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjMUM5RTNGIgogICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgYXhpb3MucG9zdChgJHt0aGlzLiRVUkx9L1VzZXIvY2FydC5waHBgLCB7CiAgICAgICAgICAgIGFjdGlvbjogImRlbGV0ZVByb2R1Y3QiLAogICAgICAgICAgICBpZDogaWRbMF0udmFsdWUsCiAgICAgICAgICAgIGlkX21lbWJlcjogdGhpcy5pZF9tZW1iZXIsCiAgICAgICAgICAgIHF0eTogaW5wdXRbMF0udmFsdWUKICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGVDYXJ0Iik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdFRvUHJpY2UodmFsdWUpIHsKICAgICAgdmFyIG51bTEgPSBgJHt2YWx1ZS50b0ZpeGVkKCl9YDsKICAgICAgdmFyIG51bWJlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgpLmZvcm1hdChudW0xKTsKICAgICAgcmV0dXJuIG51bWJlcjsKICAgIH0KICB9Cn07"},{"version":3,"names":["AnimatedNumber","axios","name","props","data","Array","components","id_member","$session","get","methods","del","index","input","$refs","value","id","idCart","post","$URL","action","qty","then","$emit","add","productNum","deleteProduct","$swal","icon","title","showCancelButton","confirmButtonText","confirmButtonColor","cancelButtonText","cancelButtonColor","result","isConfirmed","formatToPrice","num1","toFixed","number","Intl","NumberFormat","format"],"sources":["src/components/confirmOrder/OrderList.vue"],"sourcesContent":["<template>\r\n  <div class=\"\">\r\n    <div class=\"row bg-white py-3 border boxraduis\">\r\n      <div class=\"col-6 d-flex align-items-center justify-content-start\">\r\n        <h2 class=\"p-0 m-0\">รายการสินค้า</h2>\r\n      </div>\r\n      <div class=\"col-2 text-center boxMenu\">ราคา</div>\r\n      <div class=\"col-2 text-center boxMenu\">จำนวน</div>\r\n      <div class=\"col-2 text-center boxMenu\">ยอดรวมสินค้า</div>\r\n    </div>\r\n    <div\r\n      v-for=\"(item, index) in data\"\r\n      :key=\"index\"\r\n      class=\"row bg-white my-1 border py-2 boxraduis\"\r\n    >\r\n      <div class=\"col-6 d-flex align-items-center\">\r\n        <div>\r\n          <img\r\n            :src=\"`${$URL}/imgProduct/${item.img_product}`\"\r\n            alt=\"\"\r\n            width=\"100px\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <p class=\"ps-3\">\r\n            {{ item.productName }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"\r\n          col-2\r\n          text-center\r\n          d-flex\r\n          justify-content-center\r\n          align-items-center\r\n        \"\r\n      >\r\n        &#3647; {{ item.productPrice | numFormat }}\r\n      </div>\r\n      <div class=\"col-2 d-flex justify-content-center align-items-center\">\r\n        <div class=\"row\">\r\n          <div class=\"boxnum d-flex align-items-center\">\r\n            <input\r\n              type=\"number\"\r\n              :value=\"item.Total\"\r\n              :ref=\"`input_${index}`\"\r\n              readonly\r\n            />\r\n            <input\r\n              type=\"hidden\"\r\n              :value=\"item.id_product\"\r\n              :ref=\"`id_${index}`\"\r\n            />\r\n            <input\r\n              type=\"hidden\"\r\n              :value=\"item.id_cart\"\r\n              :ref=\"`idCart_${index}`\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"\r\n          col-2\r\n          position-relative\r\n          d-flex\r\n          align-items-center\r\n          justify-content-center\r\n        \"\r\n      >\r\n        <p class=\"text-center p-0 m-0\">\r\n          &#3647;\r\n          <animated-number\r\n            :value=\"item.productPrice * item.Total\"\r\n            :formatValue=\"formatToPrice\"\r\n            :duration=\"500\"\r\n          />\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AnimatedNumber from \"animated-number-vue\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"OrderList\",\r\n  props: {\r\n    data: Array,\r\n  },\r\n  components: {\r\n    AnimatedNumber,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      id_member: this.$session.get(\"id_member\"),\r\n    };\r\n  },\r\n  methods: {\r\n    del(index) {\r\n      let input = this.$refs[\"input_\" + `${index}`];\r\n\r\n      if (input[0].value == 1) {\r\n        return;\r\n      } else {\r\n        input[0].value--;\r\n        let id = this.$refs[\"id_\" + `${index}`];\r\n        let idCart = this.$refs[\"idCart_\" + `${index}`];\r\n\r\n        axios\r\n          .post(`${this.$URL}/User/cart.php`, {\r\n            action: \"updateCartDel\",\r\n            qty: 1,\r\n            id: id[0].value,\r\n            idCart: idCart[0].value,\r\n            id_member: this.id_member,\r\n          })\r\n          .then(() => {\r\n            this.$emit(\"updateCart\");\r\n          });\r\n      }\r\n    },\r\n    add(index) {\r\n      let input = this.$refs[\"input_\" + `${index}`];\r\n      if (input[0].value == this.data[index].productNum) {\r\n        return;\r\n      } else {\r\n        input[0].value++;\r\n        let id = this.$refs[\"id_\" + `${index}`];\r\n        let idCart = this.$refs[\"idCart_\" + `${index}`];\r\n\r\n        axios\r\n          .post(`${this.$URL}/User/cart.php`, {\r\n            action: \"updateCartPlus\",\r\n            qty: 1,\r\n            id: id[0].value,\r\n            idCart: idCart[0].value,\r\n            id_member: this.id_member,\r\n          })\r\n          .then(() => {\r\n            this.$emit(\"updateCart\");\r\n          });\r\n      }\r\n    },\r\n\r\n    deleteProduct(index) {\r\n      let id = this.$refs[\"id_\" + `${index}`];\r\n      let input = this.$refs[\"input_\" + `${index}`];\r\n\r\n      this.$swal({\r\n        icon: \"error\",\r\n        title: \"ยืนยันการลบ\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"ตกลง\",\r\n        confirmButtonColor: \"#EB4247\",\r\n        cancelButtonText: \"ยกเลิก\",\r\n        cancelButtonColor: \"#1C9E3F\",\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .post(`${this.$URL}/User/cart.php`, {\r\n              action: \"deleteProduct\",\r\n              id: id[0].value,\r\n              id_member: this.id_member,\r\n              qty: input[0].value,\r\n            })\r\n            .then(() => {\r\n              this.$emit(\"updateCart\");\r\n            });\r\n        }\r\n      });\r\n    },\r\n    formatToPrice(value) {\r\n      var num1 = `${value.toFixed()}`;\r\n      var number = new Intl.NumberFormat().format(num1);\r\n      return number;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbutton {\r\n  background: none;\r\n  border: none;\r\n  border: 0.01rem solid #c5604e;\r\n  background-color: #c5604e;\r\n}\r\nbutton:focus,\r\nbutton:active {\r\n  outline: none;\r\n  box-shadow: none;\r\n}\r\n.boxnum {\r\n  border: none;\r\n}\r\n.boxnum button {\r\n  width: 2rem;\r\n  height: 2rem;\r\n  color: rgb(255, 255, 255);\r\n  /* border-radius: 5px; */\r\n}\r\n.boxnum input {\r\n  width: 4rem;\r\n  height: 2rem;\r\n  text-align: center;\r\n  font-size: 1.2rem;\r\n  border: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  border-radius: 0;\r\n}\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n.btnDelete {\r\n  font-size: 1.1rem;\r\n  color: #c5604e;\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: -1.1rem;\r\n  padding-right: 1.1rem;\r\n  cursor: pointer;\r\n}\r\n.boxMenu {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: bold;\r\n  font-size: 1.1rem;\r\n}\r\n.checkProduct {\r\n  filter: grayscale(100%);\r\n  opacity: 0.5;\r\n}\r\n.btnCart {\r\n  background-color: #c5604e;\r\n  border: none;\r\n  font-size: 1.1rem;\r\n  color: white;\r\n  padding: 0.01rem 0.5rem;\r\n  margin-left: 1rem;\r\n  width: 5rem;\r\n  height: 2rem;\r\n  border-radius: 1.1rem;\r\n}\r\n</style>\r\n"],"mappings":"AAqFA,OAAAA,cAAA;AACA,OAAAC,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,IAAA,EAAAC;EACA;EACAC,UAAA;IACAN;EACA;EAEAI,KAAA;IACA;MACAG,SAAA,OAAAC,QAAA,CAAAC,GAAA;IACA;EACA;EACAC,OAAA;IACAC,IAAAC,KAAA;MACA,IAAAC,KAAA,QAAAC,KAAA,eAAAF,KAAA;MAEA,IAAAC,KAAA,IAAAE,KAAA;QACA;MACA;QACAF,KAAA,IAAAE,KAAA;QACA,IAAAC,EAAA,QAAAF,KAAA,YAAAF,KAAA;QACA,IAAAK,MAAA,QAAAH,KAAA,gBAAAF,KAAA;QAEAX,KAAA,CACAiB,IAAA,SAAAC,IAAA;UACAC,MAAA;UACAC,GAAA;UACAL,EAAA,EAAAA,EAAA,IAAAD,KAAA;UACAE,MAAA,EAAAA,MAAA,IAAAF,KAAA;UACAR,SAAA,OAAAA;QACA,GACAe,IAAA;UACA,KAAAC,KAAA;QACA;MACA;IACA;IACAC,IAAAZ,KAAA;MACA,IAAAC,KAAA,QAAAC,KAAA,eAAAF,KAAA;MACA,IAAAC,KAAA,IAAAE,KAAA,SAAAX,IAAA,CAAAQ,KAAA,EAAAa,UAAA;QACA;MACA;QACAZ,KAAA,IAAAE,KAAA;QACA,IAAAC,EAAA,QAAAF,KAAA,YAAAF,KAAA;QACA,IAAAK,MAAA,QAAAH,KAAA,gBAAAF,KAAA;QAEAX,KAAA,CACAiB,IAAA,SAAAC,IAAA;UACAC,MAAA;UACAC,GAAA;UACAL,EAAA,EAAAA,EAAA,IAAAD,KAAA;UACAE,MAAA,EAAAA,MAAA,IAAAF,KAAA;UACAR,SAAA,OAAAA;QACA,GACAe,IAAA;UACA,KAAAC,KAAA;QACA;MACA;IACA;IAEAG,cAAAd,KAAA;MACA,IAAAI,EAAA,QAAAF,KAAA,YAAAF,KAAA;MACA,IAAAC,KAAA,QAAAC,KAAA,eAAAF,KAAA;MAEA,KAAAe,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,gBAAA;QACAC,iBAAA;QACAC,kBAAA;QACAC,gBAAA;QACAC,iBAAA;MACA,GAAAZ,IAAA,CAAAa,MAAA;QACA,IAAAA,MAAA,CAAAC,WAAA;UACAnC,KAAA,CACAiB,IAAA,SAAAC,IAAA;YACAC,MAAA;YACAJ,EAAA,EAAAA,EAAA,IAAAD,KAAA;YACAR,SAAA,OAAAA,SAAA;YACAc,GAAA,EAAAR,KAAA,IAAAE;UACA,GACAO,IAAA;YACA,KAAAC,KAAA;UACA;QACA;MACA;IACA;IACAc,cAAAtB,KAAA;MACA,IAAAuB,IAAA,MAAAvB,KAAA,CAAAwB,OAAA;MACA,IAAAC,MAAA,OAAAC,IAAA,CAAAC,YAAA,GAAAC,MAAA,CAAAL,IAAA;MACA,OAAAE,MAAA;IACA;EACA;AACA","ignoreList":[]}]}