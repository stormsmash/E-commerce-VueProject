{"remainingRequest":"F:\\project\\vue project\\project_it\\node_modules\\babel-loader\\lib\\index.js!F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\project\\vue project\\project_it\\src\\components\\cart\\CartList.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\project\\vue project\\project_it\\src\\components\\cart\\CartList.vue","mtime":1659523160000},{"path":"F:\\project\\vue project\\project_it\\babel.config.js","mtime":1659523160000},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\babel-loader\\lib\\index.js","mtime":1723791157083},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js","mtime":1723791156488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFuaW1hdGVkTnVtYmVyIGZyb20gImFuaW1hdGVkLW51bWJlci12dWUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhcnRMaXN0IiwKICBwcm9wczogewogICAgZGF0YTogQXJyYXkKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFuaW1hdGVkTnVtYmVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWRfbWVtYmVyOiB0aGlzLiRzZXNzaW9uLmdldCgiaWRfbWVtYmVyIikKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWwoaW5kZXgpIHsKICAgICAgbGV0IGlucHV0ID0gdGhpcy4kcmVmc1siaW5wdXRfIiArIGAke2luZGV4fWBdOwogICAgICBpZiAoaW5wdXRbMF0udmFsdWUgPT0gMSkgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICBpbnB1dFswXS52YWx1ZS0tOwogICAgICAgIGxldCBpZCA9IHRoaXMuJHJlZnNbImlkXyIgKyBgJHtpbmRleH1gXTsKICAgICAgICBsZXQgaWRDYXJ0ID0gdGhpcy4kcmVmc1siaWRDYXJ0XyIgKyBgJHtpbmRleH1gXTsKICAgICAgICBheGlvcy5wb3N0KGAke3RoaXMuJFVSTH0vVXNlci9jYXJ0LnBocGAsIHsKICAgICAgICAgIGFjdGlvbjogInVwZGF0ZUNhcnREZWwiLAogICAgICAgICAgcXR5OiAxLAogICAgICAgICAgaWQ6IGlkWzBdLnZhbHVlLAogICAgICAgICAgaWRDYXJ0OiBpZENhcnRbMF0udmFsdWUsCiAgICAgICAgICBpZF9tZW1iZXI6IHRoaXMuaWRfbWVtYmVyCiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGVDYXJ0Iik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGQoaW5kZXgpIHsKICAgICAgbGV0IGlucHV0ID0gdGhpcy4kcmVmc1siaW5wdXRfIiArIGAke2luZGV4fWBdOwogICAgICBpZiAoaW5wdXRbMF0udmFsdWUgPT0gdGhpcy5kYXRhW2luZGV4XS5wcm9kdWN0TnVtKSB7CiAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgdGl0bGU6ICLguKrguLTguJnguITguYnguLLguKHguLXguIjguLPguJnguKfguJnguYTguKHguYjguJ7guK0iLAogICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMTUwMAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlucHV0WzBdLnZhbHVlKys7CiAgICAgICAgbGV0IGlkID0gdGhpcy4kcmVmc1siaWRfIiArIGAke2luZGV4fWBdOwogICAgICAgIGxldCBpZENhcnQgPSB0aGlzLiRyZWZzWyJpZENhcnRfIiArIGAke2luZGV4fWBdOwogICAgICAgIGF4aW9zLnBvc3QoYCR7dGhpcy4kVVJMfS9Vc2VyL2NhcnQucGhwYCwgewogICAgICAgICAgYWN0aW9uOiAidXBkYXRlQ2FydFBsdXMiLAogICAgICAgICAgcXR5OiAxLAogICAgICAgICAgaWQ6IGlkWzBdLnZhbHVlLAogICAgICAgICAgaWRDYXJ0OiBpZENhcnRbMF0udmFsdWUsCiAgICAgICAgICBpZF9tZW1iZXI6IHRoaXMuaWRfbWVtYmVyCiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGVDYXJ0Iik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVQcm9kdWN0KGluZGV4KSB7CiAgICAgIGxldCBpZCA9IHRoaXMuJHJlZnNbImlkXyIgKyBgJHtpbmRleH1gXTsKICAgICAgbGV0IGlucHV0ID0gdGhpcy4kcmVmc1siaW5wdXRfIiArIGAke2luZGV4fWBdOwogICAgICB0aGlzLiRzd2FsKHsKICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgIHRpdGxlOiAi4Lii4Li34LiZ4Lii4Lix4LiZ4LiB4Liy4Lij4Lil4LiaIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi4LiV4LiB4Lil4LiHIiwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjRUI0MjQ3IiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi4Lii4LiB4LmA4Lil4Li04LiBIiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiMxQzlFM0YiCiAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICBheGlvcy5wb3N0KGAke3RoaXMuJFVSTH0vVXNlci9jYXJ0LnBocGAsIHsKICAgICAgICAgICAgYWN0aW9uOiAiZGVsZXRlUHJvZHVjdCIsCiAgICAgICAgICAgIGlkOiBpZFswXS52YWx1ZSwKICAgICAgICAgICAgaWRfbWVtYmVyOiB0aGlzLmlkX21lbWJlciwKICAgICAgICAgICAgcXR5OiBpbnB1dFswXS52YWx1ZQogICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZUNhcnQiKTsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiZ2V0Q291bnQiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZm9ybWF0VG9QcmljZSh2YWx1ZSkgewogICAgICB2YXIgbnVtMSA9IGAke3ZhbHVlLnRvRml4ZWQoKX1gOwogICAgICB2YXIgbnVtYmVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KCkuZm9ybWF0KG51bTEpOwogICAgICByZXR1cm4gbnVtYmVyOwogICAgfQogIH0KfTs="},{"version":3,"names":["AnimatedNumber","axios","name","props","data","Array","components","id_member","$session","get","methods","del","index","input","$refs","value","id","idCart","post","$URL","action","qty","then","$emit","add","productNum","$swal","icon","title","showCancelButton","showConfirmButton","timer","deleteProduct","confirmButtonText","confirmButtonColor","cancelButtonText","cancelButtonColor","result","isConfirmed","$root","formatToPrice","num1","toFixed","number","Intl","NumberFormat","format"],"sources":["src/components/cart/CartList.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-vh-100\">\r\n    <div class=\"row bg-white py-3 border boxraduis\">\r\n      <div class=\"col-6 d-flex align-items-center justify-content-start\">\r\n        <h2 class=\"p-0 m-0\">รายการสินค้า</h2>\r\n      </div>\r\n      <div class=\"col-2 text-center boxMenu\">ราคา</div>\r\n      <div class=\"col-2 text-center boxMenu\">จำนวน</div>\r\n      <div class=\"col-2 text-center boxMenu\">ยอดรวมสินค้า</div>\r\n    </div>\r\n    <div\r\n      v-for=\"(item, index) in data\"\r\n      :key=\"index\"\r\n      class=\"row bg-white my-1 border py-2 boxraduis\"\r\n    >\r\n      <div\r\n        class=\"col-6 d-flex align-items-center\"\r\n        :class=\"[item.productNum < item.Total ? 'checkProduct ' : '']\"\r\n      >\r\n        <div>\r\n          <img\r\n            :src=\"`${$URL}/imgProduct/${item.img_product}`\"\r\n            alt=\"\"\r\n            width=\"100px\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <p class=\"ps-3\">\r\n            {{ item.productName }}\r\n          </p>\r\n          <p\r\n            v-if=\"item.productNum < item.Total\"\r\n            class=\"btnCart rounded-pill text-center\"\r\n          >\r\n            สินค้าหมด\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"\r\n          col-2\r\n          text-center\r\n          d-flex\r\n          justify-content-center\r\n          align-items-center\r\n        \"\r\n        :class=\"[item.productNum < item.Total ? 'checkProduct ' : '']\"\r\n      >\r\n        &#3647; {{ item.productPrice | numFormat }}\r\n      </div>\r\n      <div\r\n        class=\"col-2 d-flex justify-content-center align-items-center\"\r\n        :class=\"[item.productNum < item.Total ? 'checkProduct ' : '']\"\r\n      >\r\n        <div class=\"row\">\r\n          <div class=\"boxnum d-flex align-items-center\">\r\n            <button @click=\"del(index)\" :disabled=\"0 == 1\">\r\n              <i class=\"fas fa-minus\"></i>\r\n            </button>\r\n            <input\r\n              type=\"number\"\r\n              :value=\"item.Total\"\r\n              :ref=\"`input_${index}`\"\r\n              readonly\r\n            />\r\n            <input\r\n              type=\"hidden\"\r\n              :value=\"item.id_product\"\r\n              :ref=\"`id_${index}`\"\r\n            />\r\n            <input\r\n              type=\"hidden\"\r\n              :value=\"item.id_cart\"\r\n              :ref=\"`idCart_${index}`\"\r\n            />\r\n            <button @click=\"add(index)\">\r\n              <i class=\"fas fa-plus\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"\r\n          col-2\r\n          position-relative\r\n          d-flex\r\n          align-items-center\r\n          justify-content-center\r\n        \"\r\n      >\r\n        <p\r\n          class=\"text-center p-0 m-0\"\r\n          :class=\"[item.productNum < item.Total ? 'checkProduct ' : '']\"\r\n        >\r\n          &#3647;\r\n          <animated-number\r\n            :value=\"item.productPrice * item.Total\"\r\n            :formatValue=\"formatToPrice\"\r\n            :duration=\"500\"\r\n          />\r\n        </p>\r\n        <p class=\"btnDelete\" @click=\"deleteProduct(index)\">\r\n          <i class=\"fas fa-trash-alt\"></i>\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <pre></pre>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AnimatedNumber from \"animated-number-vue\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"CartList\",\r\n  props: {\r\n    data: Array,\r\n  },\r\n  components: {\r\n    AnimatedNumber,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      id_member: this.$session.get(\"id_member\"),\r\n    };\r\n  },\r\n  methods: {\r\n    del(index) {\r\n      let input = this.$refs[\"input_\" + `${index}`];\r\n\r\n      if (input[0].value == 1) {\r\n        return;\r\n      } else {\r\n        input[0].value--;\r\n        let id = this.$refs[\"id_\" + `${index}`];\r\n        let idCart = this.$refs[\"idCart_\" + `${index}`];\r\n\r\n        axios\r\n          .post(`${this.$URL}/User/cart.php`, {\r\n            action: \"updateCartDel\",\r\n            qty: 1,\r\n            id: id[0].value,\r\n            idCart: idCart[0].value,\r\n            id_member: this.id_member,\r\n          })\r\n          .then(() => {\r\n            this.$emit(\"updateCart\");\r\n          });\r\n      }\r\n    },\r\n    add(index) {\r\n      let input = this.$refs[\"input_\" + `${index}`];\r\n      if (input[0].value == this.data[index].productNum) {\r\n        this.$swal({\r\n          icon: \"error\",\r\n          title: \"สินค้ามีจำนวนไม่พอ\",\r\n          showCancelButton: false,\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n      } else {\r\n        input[0].value++;\r\n        let id = this.$refs[\"id_\" + `${index}`];\r\n        let idCart = this.$refs[\"idCart_\" + `${index}`];\r\n\r\n        axios\r\n          .post(`${this.$URL}/User/cart.php`, {\r\n            action: \"updateCartPlus\",\r\n            qty: 1,\r\n            id: id[0].value,\r\n            idCart: idCart[0].value,\r\n            id_member: this.id_member,\r\n          })\r\n          .then(() => {\r\n            this.$emit(\"updateCart\");\r\n          });\r\n      }\r\n    },\r\n    deleteProduct(index) {\r\n      let id = this.$refs[\"id_\" + `${index}`];\r\n      let input = this.$refs[\"input_\" + `${index}`];\r\n\r\n      this.$swal({\r\n        icon: \"error\",\r\n        title: \"ยืนยันการลบ\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"ตกลง\",\r\n        confirmButtonColor: \"#EB4247\",\r\n        cancelButtonText: \"ยกเลิก\",\r\n        cancelButtonColor: \"#1C9E3F\",\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .post(`${this.$URL}/User/cart.php`, {\r\n              action: \"deleteProduct\",\r\n              id: id[0].value,\r\n              id_member: this.id_member,\r\n              qty: input[0].value,\r\n            })\r\n            .then(() => {\r\n              this.$emit(\"updateCart\");\r\n              this.$root.$emit(\"getCount\");\r\n            });\r\n        }\r\n      });\r\n    },\r\n    formatToPrice(value) {\r\n      var num1 = `${value.toFixed()}`;\r\n      var number = new Intl.NumberFormat().format(num1);\r\n      return number;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbutton {\r\n  background: none;\r\n  border: none;\r\n  border: 0.01rem solid #c5604e;\r\n  background-color: #c5604e;\r\n}\r\nbutton:focus,\r\nbutton:active {\r\n  outline: none;\r\n  box-shadow: none;\r\n}\r\n.boxnum {\r\n  border: none;\r\n}\r\n.boxnum button {\r\n  width: 2rem;\r\n  height: 2rem;\r\n  color: rgb(255, 255, 255);\r\n  /* border-radius: 5px; */\r\n}\r\n.boxnum input {\r\n  width: 4rem;\r\n  height: 2rem;\r\n  text-align: center;\r\n  font-size: 1.2rem;\r\n  border: 0.01rem solid #c5604e;\r\n  padding: 0;\r\n  margin: 0;\r\n  border-radius: 0;\r\n}\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n.btnDelete {\r\n  font-size: 1.1rem;\r\n  color: #c5604e;\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: -1.1rem;\r\n  padding-right: 1.1rem;\r\n  cursor: pointer;\r\n}\r\n.boxMenu {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-weight: bold;\r\n  font-size: 1.1rem;\r\n}\r\n.checkProduct {\r\n  filter: grayscale(100%);\r\n  opacity: 0.5;\r\n}\r\n.btnCart {\r\n  background-color: #c5604e;\r\n  border: none;\r\n  font-size: 1.1rem;\r\n  color: white;\r\n  padding: 0.01rem 0.5rem;\r\n  margin-left: 1rem;\r\n  width: 8rem;\r\n  height: 1.8rem;\r\n  border-radius: 1.1rem;\r\n}\r\n</style>\r\n"],"mappings":"AA+GA,OAAAA,cAAA;AACA,OAAAC,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,IAAA,EAAAC;EACA;EACAC,UAAA;IACAN;EACA;EAEAI,KAAA;IACA;MACAG,SAAA,OAAAC,QAAA,CAAAC,GAAA;IACA;EACA;EACAC,OAAA;IACAC,IAAAC,KAAA;MACA,IAAAC,KAAA,QAAAC,KAAA,eAAAF,KAAA;MAEA,IAAAC,KAAA,IAAAE,KAAA;QACA;MACA;QACAF,KAAA,IAAAE,KAAA;QACA,IAAAC,EAAA,QAAAF,KAAA,YAAAF,KAAA;QACA,IAAAK,MAAA,QAAAH,KAAA,gBAAAF,KAAA;QAEAX,KAAA,CACAiB,IAAA,SAAAC,IAAA;UACAC,MAAA;UACAC,GAAA;UACAL,EAAA,EAAAA,EAAA,IAAAD,KAAA;UACAE,MAAA,EAAAA,MAAA,IAAAF,KAAA;UACAR,SAAA,OAAAA;QACA,GACAe,IAAA;UACA,KAAAC,KAAA;QACA;MACA;IACA;IACAC,IAAAZ,KAAA;MACA,IAAAC,KAAA,QAAAC,KAAA,eAAAF,KAAA;MACA,IAAAC,KAAA,IAAAE,KAAA,SAAAX,IAAA,CAAAQ,KAAA,EAAAa,UAAA;QACA,KAAAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,gBAAA;UACAC,iBAAA;UACAC,KAAA;QACA;MACA;QACAlB,KAAA,IAAAE,KAAA;QACA,IAAAC,EAAA,QAAAF,KAAA,YAAAF,KAAA;QACA,IAAAK,MAAA,QAAAH,KAAA,gBAAAF,KAAA;QAEAX,KAAA,CACAiB,IAAA,SAAAC,IAAA;UACAC,MAAA;UACAC,GAAA;UACAL,EAAA,EAAAA,EAAA,IAAAD,KAAA;UACAE,MAAA,EAAAA,MAAA,IAAAF,KAAA;UACAR,SAAA,OAAAA;QACA,GACAe,IAAA;UACA,KAAAC,KAAA;QACA;MACA;IACA;IACAS,cAAApB,KAAA;MACA,IAAAI,EAAA,QAAAF,KAAA,YAAAF,KAAA;MACA,IAAAC,KAAA,QAAAC,KAAA,eAAAF,KAAA;MAEA,KAAAc,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,gBAAA;QACAI,iBAAA;QACAC,kBAAA;QACAC,gBAAA;QACAC,iBAAA;MACA,GAAAd,IAAA,CAAAe,MAAA;QACA,IAAAA,MAAA,CAAAC,WAAA;UACArC,KAAA,CACAiB,IAAA,SAAAC,IAAA;YACAC,MAAA;YACAJ,EAAA,EAAAA,EAAA,IAAAD,KAAA;YACAR,SAAA,OAAAA,SAAA;YACAc,GAAA,EAAAR,KAAA,IAAAE;UACA,GACAO,IAAA;YACA,KAAAC,KAAA;YACA,KAAAgB,KAAA,CAAAhB,KAAA;UACA;QACA;MACA;IACA;IACAiB,cAAAzB,KAAA;MACA,IAAA0B,IAAA,MAAA1B,KAAA,CAAA2B,OAAA;MACA,IAAAC,MAAA,OAAAC,IAAA,CAAAC,YAAA,GAAAC,MAAA,CAAAL,IAAA;MACA,OAAAE,MAAA;IACA;EACA;AACA","ignoreList":[]}]}