{"remainingRequest":"F:\\project\\vue project\\project_it\\node_modules\\babel-loader\\lib\\index.js!F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\project\\vue project\\project_it\\src\\components\\profile\\Repassword.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\project\\vue project\\project_it\\src\\components\\profile\\Repassword.vue","mtime":1661616379658},{"path":"F:\\project\\vue project\\project_it\\babel.config.js","mtime":1659523160000},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\babel-loader\\lib\\index.js","mtime":1723791157083},{"path":"F:\\project\\vue project\\project_it\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723791156500},{"path":"F:\\project\\vue project\\project_it\\node_modules\\vue-loader\\lib\\index.js","mtime":1723791156488}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGgsIHNhbWVBcyB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVwYXNzd29yZCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgcGFzc3dvcmQxOiAiIiwKICAgICAgcGFzc3dvcmQyOiAiIgogICAgfTsKICB9LAogIHZhbGlkYXRpb25zOiB7CiAgICBwYXNzd29yZDogewogICAgICByZXF1aXJlZCwKICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNikKICAgIH0sCiAgICBwYXNzd29yZDE6IHsKICAgICAgcmVxdWlyZWQsCiAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDYpCiAgICB9LAogICAgcGFzc3dvcmQyOiB7CiAgICAgIHJlcXVpcmVkLAogICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg2KSwKICAgICAgc2FtZUFzUGFzc3dvcmQ6IHNhbWVBcygicGFzc3dvcmQxIikKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdCgpIHsKICAgICAgdGhpcy4kdi4kdG91Y2goKTsKICAgICAgaWYgKHRoaXMuJHYuJGludmFsaWQpIHsKICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBheGlvcy5wb3N0KGAke3RoaXMuJFVSTH0vVXNlci9tZW1iZXIucGhwYCwgewogICAgICAgICAgYWN0aW9uOiAiUmVwYXNzd29yZCIsCiAgICAgICAgICBpZF91c2VyOiB0aGlzLiRzZXNzaW9uLmdldCgiaWRfbWVtYmVyIiksCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgIHBhc3N3b3JkMTogdGhpcy5wYXNzd29yZDEKICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEgPT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgIHBvc2l0aW9uOiAiY2VudGVyIiwKICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgdGl0bGU6ICLguK3guLHguJvguYDguJTguJXguILguYnguK3guKHguLnguKXguKrguLPguYDguKPguYfguIgiLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0aW1lcjogMTUwMAogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmxvZ091dCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgIGljb246ICJlcnJvciIsCiAgICAgICAgICAgICAgdGl0bGU6ICLguKPguKvguLHguKrguJzguYjguLLguJnguYTguKHguYjguJbguLnguIHguJXguYnguK3guIciLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi4LiV4LiB4Lil4LiHIiwKICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjRUI0MjQ3IgogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLnJlc2V0RGF0YSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGxvZ091dCgpIHsKICAgICAgdGhpcy4kc2Vzc2lvbi5kZXN0cm95KCk7CiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoImxvZ2luUGFnZSIpOwogICAgICB0aGlzLiRyb290LiRlbWl0KCJsb2dvdXRQYWdlIik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvTG9naW4iKTsKICAgIH0sCiAgICByZXNldERhdGEoKSB7CiAgICAgIHRoaXMucGFzc3dvcmQgPSBudWxsOwogICAgICB0aGlzLnBhc3N3b3JkMSA9IG51bGw7CiAgICAgIHRoaXMucGFzc3dvcmQyID0gbnVsbDsKICAgICAgdGhpcy4kdi4kcmVzZXQoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRyb290LiRlbWl0KCJSZXBhc3N3b3JkIik7CiAgICBkb2N1bWVudC50aXRsZSA9ICJQZXBlbnN1ZGEgU2hvcCBQcm9maWxlIjsKICB9Cn07"},{"version":3,"names":["axios","required","minLength","sameAs","name","data","password","password1","password2","validations","sameAsPassword","methods","submit","$v","$touch","$invalid","console","log","post","$URL","action","id_user","$session","get","then","res","$swal","position","icon","title","showConfirmButton","timer","logOut","showCancelButton","confirmButtonText","confirmButtonColor","resetData","destroy","$root","$emit","$router","push","$reset","created","document"],"sources":["src/components/profile/Repassword.vue"],"sourcesContent":["<template>\r\n  <div class=\"boxraduis mt-3\">\r\n    <div class=\"row p-3\">\r\n      <div class=\"col-md-6\">\r\n        <h4>เปลี่ยนรหัสผ่าน</h4>\r\n        <form @submit.prevent=\"submit\">\r\n          <div class=\"group mt-3\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              :class=\"{\r\n                checkInput: password,\r\n              }\"\r\n              v-model=\"$v.password.$model\"\r\n            />\r\n            <span class=\"highlight\"></span>\r\n            <span class=\"bar\"></span>\r\n            <label>รหัสผ่านปัจจุบัน</label>\r\n            <span class=\"text-danger\" v-if=\"$v.password.$error\"\r\n              >รหัสผ่านปัจจุบัน</span\r\n            >\r\n            <span class=\"text-danger\" v-if=\"!$v.password.minLength\">\r\n              {{ $v.password.$params.minLength.min }} ตัวอักษรขึ้นไป\r\n            </span>\r\n          </div>\r\n          <div class=\"group mt-3\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password1\"\r\n              :class=\"{\r\n                checkInput: password1,\r\n              }\"\r\n              v-model=\"$v.password1.$model\"\r\n            />\r\n            <span class=\"highlight\"></span>\r\n            <span class=\"bar\"></span>\r\n            <label>รหัสผ่านใหม่</label>\r\n            <span class=\"text-danger\" v-if=\"$v.password1.$error\"\r\n              >รหัสผ่านใหม่</span\r\n            >\r\n            <span class=\"text-danger\" v-if=\"!$v.password1.minLength\">\r\n              {{ $v.password1.$params.minLength.min }} ตัวอักษรขึ้นไป\r\n            </span>\r\n          </div>\r\n          <div class=\"group mt-3\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password2\"\r\n              :class=\"{\r\n                checkInput: password2,\r\n              }\"\r\n              v-model=\"$v.password2.$model\"\r\n            />\r\n            <span class=\"highlight\"></span>\r\n            <span class=\"bar\"></span>\r\n            <label>ยืนยันรหัสผ่านใหม่</label>\r\n            <span class=\"text-danger\" v-if=\"$v.password2.$error\"\r\n              >ยืนยันรหัสผ่านใหม่</span\r\n            >\r\n            <span class=\"text-danger\" v-if=\"!$v.password2.minLength\">\r\n              {{ $v.password2.$params.minLength.min }} ตัวอักษรขึ้นไป\r\n            </span>\r\n            <span class=\"text-danger\" v-if=\"!$v.password2.sameAsPassword\"\r\n              >รหัสผ่านไม่ตรงกัน</span\r\n            >\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btnDefault rounded-pill\">\r\n            ตกลง\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <div class=\"col-md-6 d-flex align-items-center justify-content-center\">\r\n        <img src=\"../../assets/icon/privacy.png\" alt=\"\" class=\"imgPassword\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { required, minLength, sameAs } from \"vuelidate/lib/validators\";\r\nexport default {\r\n  name: \"Repassword\",\r\n\r\n  data() {\r\n    return {\r\n      password: \"\",\r\n      password1: \"\",\r\n      password2: \"\",\r\n    };\r\n  },\r\n  validations: {\r\n    password: {\r\n      required,\r\n      minLength: minLength(6),\r\n    },\r\n    password1: {\r\n      required,\r\n      minLength: minLength(6),\r\n    },\r\n    password2: {\r\n      required,\r\n      minLength: minLength(6),\r\n      sameAsPassword: sameAs(\"password1\"),\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    submit() {\r\n      this.$v.$touch();\r\n      if (this.$v.$invalid) {\r\n        console.log(\"Error\");\r\n      } else {\r\n        axios\r\n          .post(`${this.$URL}/User/member.php`, {\r\n            action: \"Repassword\",\r\n            id_user: this.$session.get(\"id_member\"),\r\n            password: this.password,\r\n            password1: this.password1,\r\n          })\r\n          .then((res) => {\r\n            if (res.data == \"Success\") {\r\n              this.$swal({\r\n                position: \"center\",\r\n                icon: \"success\",\r\n                title: \"อัปเดตข้อมูลสำเร็จ\",\r\n                showConfirmButton: false,\r\n                timer: 1500,\r\n              }).then(() => {\r\n                this.logOut();\r\n              });\r\n            } else {\r\n              this.$swal({\r\n                icon: \"error\",\r\n                title: \"รหัสผ่านไม่ถูกต้อง\",\r\n                showCancelButton: false,\r\n                confirmButtonText: \"ตกลง\",\r\n                confirmButtonColor: \"#EB4247\",\r\n              }).then(() => {\r\n                this.resetData();\r\n              });\r\n            }\r\n          });\r\n      }\r\n    },\r\n    logOut() {\r\n      this.$session.destroy();\r\n      this.$root.$emit(\"loginPage\");\r\n      this.$root.$emit(\"logoutPage\");\r\n      this.$router.push(\"/Login\");\r\n    },\r\n    resetData() {\r\n      this.password = null;\r\n      this.password1 = null;\r\n      this.password2 = null;\r\n      this.$v.$reset();\r\n    },\r\n  },\r\n  created() {\r\n    this.$root.$emit(\"Repassword\");\r\n    document.title = \"Pepensuda Shop Profile\";\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../../assets/css/input.css\";\r\n.btnDefault {\r\n  width: 7rem;\r\n  background-color: #c5604e;\r\n  color: white;\r\n}\r\n.btnDefault:hover {\r\n  color: #ffffff;\r\n  background-color: #efb1a2;\r\n}\r\n.imgPassword {\r\n  width: 10rem;\r\n}\r\n</style>\r\n"],"mappings":";AA+EA,OAAAA,KAAA;AACA,SAAAC,QAAA,EAAAC,SAAA,EAAAC,MAAA;AACA;EACAC,IAAA;EAEAC,KAAA;IACA;MACAC,QAAA;MACAC,SAAA;MACAC,SAAA;IACA;EACA;EACAC,WAAA;IACAH,QAAA;MACAL,QAAA;MACAC,SAAA,EAAAA,SAAA;IACA;IACAK,SAAA;MACAN,QAAA;MACAC,SAAA,EAAAA,SAAA;IACA;IACAM,SAAA;MACAP,QAAA;MACAC,SAAA,EAAAA,SAAA;MACAQ,cAAA,EAAAP,MAAA;IACA;EACA;EAEAQ,OAAA;IACAC,OAAA;MACA,KAAAC,EAAA,CAAAC,MAAA;MACA,SAAAD,EAAA,CAAAE,QAAA;QACAC,OAAA,CAAAC,GAAA;MACA;QACAjB,KAAA,CACAkB,IAAA,SAAAC,IAAA;UACAC,MAAA;UACAC,OAAA,OAAAC,QAAA,CAAAC,GAAA;UACAjB,QAAA,OAAAA,QAAA;UACAC,SAAA,OAAAA;QACA,GACAiB,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAApB,IAAA;YACA,KAAAqB,KAAA;cACAC,QAAA;cACAC,IAAA;cACAC,KAAA;cACAC,iBAAA;cACAC,KAAA;YACA,GAAAP,IAAA;cACA,KAAAQ,MAAA;YACA;UACA;YACA,KAAAN,KAAA;cACAE,IAAA;cACAC,KAAA;cACAI,gBAAA;cACAC,iBAAA;cACAC,kBAAA;YACA,GAAAX,IAAA;cACA,KAAAY,SAAA;YACA;UACA;QACA;MACA;IACA;IACAJ,OAAA;MACA,KAAAV,QAAA,CAAAe,OAAA;MACA,KAAAC,KAAA,CAAAC,KAAA;MACA,KAAAD,KAAA,CAAAC,KAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACAL,UAAA;MACA,KAAA9B,QAAA;MACA,KAAAC,SAAA;MACA,KAAAC,SAAA;MACA,KAAAK,EAAA,CAAA6B,MAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAL,KAAA,CAAAC,KAAA;IACAK,QAAA,CAAAf,KAAA;EACA;AACA","ignoreList":[]}]}