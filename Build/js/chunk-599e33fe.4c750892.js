(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-599e33fe","chunk-5264c567"],{"035f":function(t,e,s){t.exports=s.p+"img/cartBank.d6e9255e.png"},"0752":function(t,e,s){"use strict";s("7f73")},"0826":function(t,e,s){},"0ea4":function(t,e,s){},1236:function(t,e,s){t.exports=s.p+"img/address.7a79a5cb.png"},"14f7":function(t,e,s){"use strict";s("0826")},5677:function(t,e,s){},"5f8b":function(t,e,s){t.exports=s.p+"img/delivery.6d6a88c3.png"},6459:function(t,e,s){"use strict";s("5677")},"797a":function(t,e,s){t.exports=s.p+"img/box_address.7ad0b4c2.png"},"7adb":function(t,e,s){"use strict";s("a394")},"7f73":function(t,e,s){},8873:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("Topic"),e("div",{staticClass:"col-10 mx-auto"},[null==t.cartList[0]?e("div",{staticClass:"mt-3 p-5 bg-white d-flex flex-column justify-content-center align-items-center boxnone"},[e("img",{attrs:{src:s("035f"),alt:"",width:"150px"}}),e("h5",{staticClass:"mt-3"},[t._v("ไม่พบสินค้าในตะกร้า...")]),e("router-link",{staticClass:"mt-3",attrs:{to:"/"}},[e("button",{staticClass:"btnCart rounded-pill"},[t._v("ช้อปปิ้งกันเลย")])])],1):t._e(),t.cartList[0]?e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-8"},[e("OrderList",{attrs:{data:t.cartList},on:{updateCart:t.getCart}})],1),e("div",{staticClass:"col-4 ms-auto"},[e("div",{staticClass:"boxfixed"},[e("AddressOrder",{staticClass:"mb-2",on:{getAddress:t.sendAddress}}),e("DeliveryOrder",{staticClass:"mb-2"}),e("OrderCart",{attrs:{data:t.totalCart,cartList:t.cartList,id_address:t.id_Address},on:{updateCart:t.getCart}})],1)])]):t._e()])],1)},r=[],a=function(){var t=this;t._self._c;return t._m(0)},o=[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"topic container-fluid d-flex align-items-center"},[e("div",{staticClass:"boxtopic d-flex align-items-center justify-content-between"},[e("div",{staticClass:"boximg"},[e("img",{attrs:{src:s("5f8b"),alt:""}})]),e("div",{staticClass:"line"}),e("div",{staticClass:"textTopic"},[t._v("ทำการสั่งซื้อ")])])])])}],d={name:"Topic",props:{Profile:String},methods:{}},n=d,c=(s("8f86"),s("2877")),l=Object(c["a"])(n,a,o,!1,null,"69dd66d0",null),m=l.exports,u=function(){var t=this,e=t._self._c;return e("div",{},[t._m(0),t._l(t.data,(function(s,i){return e("div",{key:i,staticClass:"row bg-white my-1 border py-2 boxraduis"},[e("div",{staticClass:"col-6 d-flex align-items-center"},[e("div",[e("img",{attrs:{src:`${t.$URL}/imgProduct/${s.img_product}`,alt:"",width:"100px"}})]),e("div",[e("p",{staticClass:"ps-3"},[t._v(" "+t._s(s.productName)+" ")])])]),e("div",{staticClass:"col-2 text-center d-flex justify-content-center align-items-center"},[t._v(" ฿ "+t._s(t._f("numFormat")(s.productPrice))+" ")]),e("div",{staticClass:"col-2 d-flex justify-content-center align-items-center"},[e("div",{staticClass:"row"},[e("div",{staticClass:"boxnum d-flex align-items-center"},[e("input",{ref:"input_"+i,refInFor:!0,attrs:{type:"number",readonly:""},domProps:{value:s.Total}}),e("input",{ref:"id_"+i,refInFor:!0,attrs:{type:"hidden"},domProps:{value:s.id_product}}),e("input",{ref:"idCart_"+i,refInFor:!0,attrs:{type:"hidden"},domProps:{value:s.id_cart}})])])]),e("div",{staticClass:"col-2 position-relative d-flex align-items-center justify-content-center"},[e("p",{staticClass:"text-center p-0 m-0"},[t._v(" ฿ "),e("animated-number",{attrs:{value:s.productPrice*s.Total,formatValue:t.formatToPrice,duration:500}})],1)])])}))],2)},p=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row bg-white py-3 border boxraduis"},[e("div",{staticClass:"col-6 d-flex align-items-center justify-content-start"},[e("h2",{staticClass:"p-0 m-0"},[t._v("รายการสินค้า")])]),e("div",{staticClass:"col-2 text-center boxMenu"},[t._v("ราคา")]),e("div",{staticClass:"col-2 text-center boxMenu"},[t._v("จำนวน")]),e("div",{staticClass:"col-2 text-center boxMenu"},[t._v("ยอดรวมสินค้า")])])}],f=s("044d"),v=s.n(f),h=s("bc3a"),b=s.n(h),_={name:"OrderList",props:{data:Array},components:{AnimatedNumber:v.a},data(){return{id_member:this.$session.get("id_member")}},methods:{del(t){let e=this.$refs["input_"+t];if(1!=e[0].value){e[0].value--;let s=this.$refs["id_"+t],i=this.$refs["idCart_"+t];b.a.post(this.$URL+"/User/cart.php",{action:"updateCartDel",qty:1,id:s[0].value,idCart:i[0].value,id_member:this.id_member}).then(()=>{this.$emit("updateCart")})}},add(t){let e=this.$refs["input_"+t];if(e[0].value!=this.data[t].productNum){e[0].value++;let s=this.$refs["id_"+t],i=this.$refs["idCart_"+t];b.a.post(this.$URL+"/User/cart.php",{action:"updateCartPlus",qty:1,id:s[0].value,idCart:i[0].value,id_member:this.id_member}).then(()=>{this.$emit("updateCart")})}},deleteProduct(t){let e=this.$refs["id_"+t],s=this.$refs["input_"+t];this.$swal({icon:"error",title:"ยืนยันการลบ",showCancelButton:!0,confirmButtonText:"ตกลง",confirmButtonColor:"#EB4247",cancelButtonText:"ยกเลิก",cancelButtonColor:"#1C9E3F"}).then(t=>{t.isConfirmed&&b.a.post(this.$URL+"/User/cart.php",{action:"deleteProduct",id:e[0].value,id_member:this.id_member,qty:s[0].value}).then(()=>{this.$emit("updateCart")})})},formatToPrice(t){var e=""+t.toFixed(),s=(new Intl.NumberFormat).format(e);return s}}},C=_,x=(s("e550"),Object(c["a"])(C,u,p,!1,null,"ce450c78",null)),g=x.exports,$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"boxfixed"},[e("div",{staticClass:"row bg-white border p-3 ms-3 boxraduis"},[e("h2",[t._v("สรุปใบสั่งซื้อ")]),e("hr"),e("div",[e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("h5",{staticClass:"p-0 m-0"},[t._v("ยอดรวมสินค้า")]),e("h5",{staticClass:"text-price"},[t._v(" ฿ "),e("animated-number",{staticClass:"text-price",attrs:{value:t.data,formatValue:t.formatToPrice,duration:500}})],1)]),e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("h5",{staticClass:"p-0 m-0"},[t._v("ยอดรวมค่าจัดส่ง")]),e("h5",{staticClass:"text-price"},[t._v(" ฿ "),e("animated-number",{staticClass:"text-price",attrs:{value:t.deliverPrice,formatValue:t.formatToPrice,duration:500}})],1)]),e("div",{staticClass:"d-flex justify-content-between align-items-center mt-4"},[e("h4",{staticClass:"p-0 m-0"},[t._v("ยอดรวมการสั่งซื้อทั้งหมด")]),e("h2",{staticClass:"text-price"},[t._v(" ฿ "),e("animated-number",{staticClass:"text-price",attrs:{value:t.Total,formatValue:t.formatToPrice,duration:500}})],1)])]),e("button",{staticClass:"btnCart rounded-pill mx-auto mt-5",on:{click:t.submitCartOrder}},[t._v(" ดำเนินการสั่งซื้อและชำระเงิน ")])])])},A=[],w=(s("14d9"),{name:"OrderCart",props:{data:Number,id_address:Number,cartList:Array},components:{AnimatedNumber:v.a},data(){return{id_user:this.$session.get("id_member"),Total:0}},methods:{submitCartOrder(){0!=this.id_address?b.a.post(this.$URL+"/User/cart.php",{action:"checkProduct",id_user:this.id_user}).then(t=>{"success"==t.data?this.submitCart():(this.myAlert("สินค้าไม่คงเหลือไม่พอ"),this.$router.push("/CartMe"))}):this.myAlert("กรุณาเพิ่มที่อยู่ในการจัดส่ง")},submitCart(){b.a.post(this.$URL+"/User/cart.php",{action:"submitCartOrder",id_user:this.id_user,address:this.id_address,total:this.data,deliverPrice:this.deliverPrice}).then(t=>{this.$router.push("/Pay/"+t.data.id_order),this.$emit("updateCart"),this.$root.$emit("getCount")})},myAlert(t){this.$swal({position:"center",icon:"error",title:"ผิดผลาด",text:""+t,showConfirmButton:!0,confirmButtonText:"ตกลง",confirmButtonColor:"#EB4247"})},formatToPrice(t){var e=""+t.toFixed(),s=(new Intl.NumberFormat).format(e);return s}},created(){this.Total=this.data+this.deliverPrice},computed:{deliverPrice(){let t=0;this.cartList.map(e=>t+=e.qty*e.productWeigth);let e=t/1e3,s=0;return e<=1?s=35:e>1&&e<=2?s=45:e>2&&e<=3?s=75:e>3&&e<=5?s=80:e>5&&e<=7?s=105:e>7&&e<=9?s=120:e>9&&e<=10?s=130:e>10&&e<=12?s=150:e>12&&e<=14?s=165:e>14&&e<=15?s=190:e>15&&e<=17?s=215:e>17&&e<=18?s=235:e>18&&e<=19?s=255:e>19&&e<=20&&(s=300),s}}}),y=w,T=(s("6459"),Object(c["a"])(y,$,A,!1,null,"e3d012c4",null)),D=T.exports,L=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row bg-white border p-3 ms-3 boxraduis position-relative w-100 boxAddress"},[t._m(0),e("hr"),0!=t.AddressActive?e("div",[e("p",{staticClass:"m-0 p-0"},[t._v("ชื่อ "+t._s(t.AddressActive.name))]),e("p",{staticClass:"m-0 p-0"},[t._v("เบอร์โทร "+t._s(t.AddressActive.phone))]),e("p",{staticClass:"m-0 p-0"},[t._v("ที่อยู่ "+t._s(t.AddressActive.address))]),e("p",{staticClass:"m-0 p-0"},[t._v(" ต."+t._s(t.AddressActive.TambonName)+" อ."+t._s(t.AddressActive.DistrictName)+" ")]),e("p",{staticClass:"m-0 p-0"},[t._v(" จ."+t._s(t.AddressActive.ProvinceThai)+" "+t._s(t.AddressActive.zipcode)+" ")])]):t._e(),e("p",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-edit",modifiers:{"modal-edit":!0}}],staticClass:"boxedit"},[t._v("แก้ไข")])]),e("b-modal",{ref:"my-modal-edit",attrs:{id:"modal-edit","hide-footer":"",centered:"",title:"แก้ไขข้อมูลที่อยู่",size:"lg"}},[e("Address",{on:{setAddress:t.getAddressActive}}),e("div",{staticClass:"px-3"},[e("button",{staticClass:"btnCart rounded-pill ms-auto d-block mt-3",on:{click:function(e){return t.$bvModal.hide("modal-edit")}}},[t._v(" ตกลง ")])])],1)],1)},P=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center mb-2"},[e("img",{staticClass:"icon me-3",attrs:{src:s("1236"),alt:""}}),e("h5",[t._v("ที่อยู่ในการจัดส่ง")])])}],k=s("c9f7"),U={name:"AddressOrder",components:{Address:k["default"]},data(){return{id_member:this.$session.get("id_member"),AddressActive:[]}},methods:{getAddressActive(){b.a.post(this.$URL+"/User/address.php",{action:"getAddressActive",id_member:this.id_member}).then(t=>{this.AddressActive=t.data[0],this.$emit("getAddress",t.data[0].id_address)})}},created(){this.getAddressActive()}},O=U,I=(s("0752"),Object(c["a"])(O,L,P,!1,null,"87b94c20",null)),j=I.exports,z=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("b-modal",{ref:"modal-delivery",attrs:{id:"modal-delivery","hide-footer":"",centered:"",title:"แก้ไขข้อมูลที่อยู่",size:"lg"}},[e("div",{},[e("button",{staticClass:"btnCart rounded-pill ms-auto d-block mt-3",on:{click:function(e){return t.$bvModal.hide("modal-delivery")}}},[t._v(" ตกลง ")])])])],1)},R=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row bg-white border p-3 ms-3 boxraduis position-relative w-100 boxAddress"},[e("div",{staticClass:"d-flex align-items-center mb-2"},[e("img",{staticClass:"icon me-3",attrs:{src:s("797a"),alt:""}}),e("h5",[t._v("ตัวเลือกการจัดส่ง")])]),e("hr"),t._v(" Kerry Express Thailand เคอรี่ เอ็กซ์เพรส ")])}],q={name:"DeliveryOrder"},B=q,E=(s("b295"),Object(c["a"])(B,z,R,!1,null,"64d825dd",null)),N=E.exports,F={name:"ConfirmOrder",components:{Topic:m,OrderList:g,OrderCart:D,AddressOrder:j,DeliveryOrder:N},data(){return{cartList:[],id_member:this.$session.get("id_member"),totalCart:0,id_Address:0}},methods:{getCart(){b.a.post(this.$URL+"/User/cart.php",{action:"getCart",id_member:this.id_member}).then(t=>{this.cartList=t.data,this.sumTotal()})},sumTotal(){var t=0;return this.cartList.forEach(e=>{t+=e.productPrice*e.Total}),this.totalCart=t},sendAddress(t){this.id_Address=t}},created(){this.getCart()}},M=F,S=(s("14f7"),Object(c["a"])(M,i,r,!1,null,"10a1e930",null));e["default"]=S.exports},"8f86":function(t,e,s){"use strict";s("9240")},9240:function(t,e,s){},a394:function(t,e,s){},b295:function(t,e,s){"use strict";s("d7c3")},c9f7:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"boxraduis mt-3"},[e("div",[e("div",{staticClass:"row mt-1 p-3"},[e("div",{staticClass:"col-12 d-flex align-items-center mb-3 justify-content-between"},[e("h4",{staticClass:"p-0 m-0"},[t._v("ที่อยู่ของฉัน")]),e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add",modifiers:{"modal-add":!0}}],staticClass:"btn btnDefault rounded-pill",on:{click:t.resetData}},[t._v(" + เพิ่มที่อยู่ ")])]),e("hr"),t._l(t.address,(function(s,i){return e("div",{key:i,staticClass:"row ms-2"},[e("div",{staticClass:"col-8"},[e("div",{staticClass:"row"},[t._m(0,!0),e("div",{staticClass:"col-9"},[e("p",[t._v(" "+t._s(s.name)+" "),1==s.status?e("span",{staticClass:"defaultAdd"},[t._v("ค่าเริ่มต้น")]):t._e()])])]),e("div",{staticClass:"row"},[t._m(1,!0),e("div",{staticClass:"col-9"},[e("p",[t._v(t._s(s.phone))])])]),e("div",{staticClass:"row"},[t._m(2,!0),e("div",{staticClass:"col-9"},[e("p",[t._v(" "+t._s(s.address)+" ")]),e("p",[t._v("ต. "+t._s(s.TambonName)+" อ. "+t._s(s.DistrictName))]),e("p",[t._v("จ. "+t._s(s.ProvinceThai)+" "+t._s(s.zipcode))])])])]),e("div",{staticClass:"col-4 text-end"},[e("div",{staticClass:"d-flex justify-content-end align-items-center"},[e("div",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-edit",modifiers:{"modal-edit":!0}}],staticClass:"line me-3",on:{click:function(e){return t.updateAdd(s.id_address)}}},[t._v(" แก้ไข ")])]),e("button",{staticClass:"btn btnDefault rounded-pill mt-2",attrs:{disabled:1==s.status},on:{click:function(e){return t.setAddress(s.id_address)}}},[t._v(" ตั้งเป็นค่าเริ่มต้น ")])]),e("hr",{staticClass:"mt-3"})])}))],2)]),e("b-modal",{ref:"my-modal-add",attrs:{id:"modal-add","hide-footer":"",centered:"",title:"ที่อยู่ใหม่",size:"lg"}},[e("form",{ref:"fromaddress",staticClass:"p-2",on:{submit:function(e){return e.preventDefault(),t.saveAddress.apply(null,arguments)}}},[e("div",{staticClass:"row mt-2"},[e("div",{staticClass:"col-6"},[e("Input",{attrs:{v:t.$v.form.name,inputname:"name",text:"ชื่อ-นามสกุล"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("div",{staticClass:"col-6"},[e("Input",{attrs:{v:t.$v.form.phone,inputname:"phone",text:"หมายเลขโทรศัพท์"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("Select",{attrs:{v:t.$v.form.province,inputname:"province",text:"จังหวัด",Data:t.Province},on:{input:t.getDistrict,reset1:t.resetDistrictAndTombon},model:{value:t.form.province,callback:function(e){t.$set(t.form,"province",e)},expression:"form.province"}})],1),e("div",{staticClass:"col-6"},[e("Select",{attrs:{v:t.$v.form.district,inputname:"district",text:"อำเภอ",Data:t.District},on:{input:t.getTombon,reset1:t.resetTombon},model:{value:t.form.district,callback:function(e){t.$set(t.form,"district",e)},expression:"form.district"}})],1),e("div",{staticClass:"col-6"},[e("Select",{attrs:{v:t.$v.form.tombon,inputname:"tombon",text:"ตำบล",Data:t.Tombon},on:{input:function(e){return t.getZipcode(t.form.tombon)}},model:{value:t.form.tombon,callback:function(e){t.$set(t.form,"tombon",e)},expression:"form.tombon"}})],1),e("div",{staticClass:"col-6"},[e("Input",{attrs:{v:t.$v.form.zipcode,inputname:"zipcode",text:"รหัสไปรษณีย์"},model:{value:t.form.zipcode,callback:function(e){t.$set(t.form,"zipcode",e)},expression:"form.zipcode"}})],1)]),e("Input",{attrs:{v:t.$v.form.addressInput,inputname:"address",text:"รายละเอียดที่อยู่"},model:{value:t.form.addressInput,callback:function(e){t.$set(t.form,"addressInput",e)},expression:"form.addressInput"}}),e("div",{staticClass:"footer d-flex justify-content-end mt-5"},[e("button",{staticClass:"btn-outline-light btnReset me-2 rounded-pill",attrs:{type:"reset"},on:{click:function(e){return t.hideModal("add")}}},[t._v(" ยกเลิก ")]),e("button",{staticClass:"btnOk rounded-pill",attrs:{type:"submit"}},[t._v("ยืนยัน")])])],1)]),e("b-modal",{ref:"my-modal-edit",attrs:{id:"modal-edit","hide-footer":"",centered:"",title:"แก้ไขข้อมูลที่อยู่",size:"lg"}},[e("form",{ref:"fromEdit",staticClass:"p-2",on:{submit:function(e){return e.preventDefault(),t.editAddress.apply(null,arguments)}}},[e("div",{staticClass:"row mt-2"},[e("div",{staticClass:"col-6"},[e("Input",{attrs:{v:t.$v.form.name,inputname:"name",text:"ชื่อ-นามสกุล"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("div",{staticClass:"col-6"},[e("Input",{attrs:{v:t.$v.form.phone,inputname:"phone",text:"หมายเลขโทรศัพท์"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("Select",{attrs:{v:t.$v.form.province,inputname:"province",text:"จังหวัด",Data:t.Province},on:{input:t.getDistrict,reset1:t.resetDistrictAndTombon},model:{value:t.form.province,callback:function(e){t.$set(t.form,"province",e)},expression:"form.province"}})],1),e("div",{staticClass:"col-6"},[e("Select",{attrs:{v:t.$v.form.district,inputname:"district",text:"อำเภอ",Data:t.District},on:{input:t.getTombon,reset1:t.resetTombon},model:{value:t.form.district,callback:function(e){t.$set(t.form,"district",e)},expression:"form.district"}})],1),e("div",{staticClass:"col-6"},[e("Select",{attrs:{v:t.$v.form.tombon,inputname:"tombon",text:"ตำบล",Data:t.Tombon},on:{input:function(e){return t.getZipcode(t.form.tombon)}},model:{value:t.form.tombon,callback:function(e){t.$set(t.form,"tombon",e)},expression:"form.tombon"}})],1),e("div",{staticClass:"col-6"},[e("Input",{attrs:{v:t.$v.form.zipcode,inputname:"zipcode",text:"รหัสไปรษณีย์"},model:{value:t.form.zipcode,callback:function(e){t.$set(t.form,"zipcode",e)},expression:"form.zipcode"}})],1)]),e("Input",{attrs:{v:t.$v.form.addressInput,inputname:"address",text:"รายละเอียดที่อยู่"},model:{value:t.form.addressInput,callback:function(e){t.$set(t.form,"addressInput",e)},expression:"form.addressInput"}}),e("input",{attrs:{type:"hidden",name:"id_address"},domProps:{value:t.getEditData.id_address}}),e("div",{staticClass:"footer d-flex justify-content-end mt-5"},[e("button",{staticClass:"btn-outline-light btnReset me-2 rounded-pill",attrs:{type:"reset"},on:{click:function(e){return t.hideModal("edit")}}},[t._v(" ยกเลิก ")]),e("button",{staticClass:"btnOk rounded-pill",attrs:{type:"submit"}},[t._v("ยืนยัน")])])],1)])],1)},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-3"},[e("span",[t._v("ชื่อ - สกุล")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-3"},[e("span",[t._v("โทรศัพท์ ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-3"},[e("span",[t._v("ที่อยู่ ")])])}],a=s("bc3a"),o=s.n(a),d=s("b5ae"),n=s("f4e5"),c=s("45b1"),l={name:"Address",components:{Input:n["a"],Select:c["a"]},data(){return{address:[],getEditData:[],Province:[],District:[],Tombon:[],form:{name:null,phone:null,province:null,district:null,tombon:null,zipcode:null,addressInput:null}}},validations:{form:{name:{required:d["required"],minLength:Object(d["minLength"])(2)},phone:{required:d["required"],minLength:Object(d["minLength"])(8)},province:{required:d["required"]},district:{required:d["required"]},tombon:{required:d["required"]},zipcode:{required:d["required"],minLength:Object(d["minLength"])(5)},addressInput:{required:d["required"],minLength:Object(d["minLength"])(1)}}},methods:{getProvince(){o.a.post(this.$URL+"/User/selectAddress.php",{action:"getProvince"}).then(t=>{this.Province=t.data})},getDistrict(){o.a.post(this.$URL+"/User/selectAddress.php",{action:"getDistrict",ProvinceID:this.form.province}).then(t=>{this.District=t.data})},getTombon(){o.a.post(this.$URL+"/User/selectAddress.php",{action:"getTombon",DistrictID:this.form.district}).then(t=>{this.Tombon=t.data})},getZipcode(t){const e=this.Tombon.filter(e=>e[0]==t);this.form.zipcode=e[0][3]},resetDistrictAndTombon(){this.form.district=null,this.form.tombon=null,this.form.zipcode=null,this.District=null,this.Tombon=null},resetTombon(){this.form.tombon=null,this.form.zipcode=null,this.Tombon=null},saveAddress(){if(this.$v.$touch(),this.$v.$invalid)console.log("Error");else{const t=new FormData(this.$refs["fromaddress"]);for(let e in t.entries())t.append(e,t[e]);t.append("id_member",this.$session.get("id_member")),t.append("action","saveAddress"),o.a.post(this.$URL+"/User/address.php",t).then(()=>{this.hideModal("add"),this.alert1("success","เพิ่มข้อมูลเรียบร้อยแล้ว"),this.getaddress(),this.resetData()})}},editAddress(){if(this.$v.$touch(),this.$v.$invalid)console.log("Error");else{const t=new FormData(this.$refs["fromEdit"]);for(let e in t.entries())t.append(e,t[e]);t.append("action","editAddress"),o.a.post(this.$URL+"/User/address.php",t).then(()=>{this.hideModal("edit"),this.alert1("success","แก้ไขข้อมูลเรียบร้อยแล้ว"),this.getaddress()})}},getaddress(){o.a.post(this.$URL+"/User/address.php",{id_member:this.$session.get("id_member"),action:"getAddress"}).then(t=>{this.address=t.data})},hideModal(t){this.$refs["my-modal-"+t].hide(),this.resetData()},alert1(t,e){this.$swal({position:"center",icon:""+t,title:""+e,showConfirmButton:!1,timer:1500})},deleteAdd(t){this.$swal({icon:"error",title:"ยืนยันการลบ",showCancelButton:!0,confirmButtonText:"ตกลง",confirmButtonColor:"#EB4247",cancelButtonText:"ยกเลิก",cancelButtonColor:"#1C9E3F"}).then(e=>{e.isConfirmed&&o.a.post(this.$URL+"/User/address.php",{id_address:t,action:"deleteAdd"}).then(()=>{this.alert1("success","ลบข้อมูลเรียบร้อยแล้ว"),this.getaddress()})})},getEdit(t){o.a.post(this.$URL+"/User/address.php",{id_address:t,action:"getEdit"}).then(t=>{this.getEditData=t.data,this.form.name=t.data.name,this.form.phone=t.data.phone,this.form.province=t.data.province,this.form.district=t.data.district,this.form.tombon=t.data.tombon,this.form.zipcode=t.data.zipcode,this.form.addressInput=t.data.address,this.getDistrict(),this.getTombon()})},updateAdd(t){this.getEdit(t)},setAddress(t){o.a.post(this.$URL+"/User/address.php",{id_member:this.$session.get("id_member"),id_address:t,action:"setAddress"}).then(()=>{this.getaddress(),this.$emit("setAddress")})},resetData(){this.form.name=null,this.form.phone=null,this.form.province=null,this.form.district=null,this.form.tombon=null,this.form.zipcode=null,this.form.addressInput=null,this.$v.$reset()}},created(){this.getaddress(),this.getProvince(),this.$root.$emit("Address"),document.title="Pepensuda Shop Profile"}},m=l,u=(s("7adb"),s("2877")),p=Object(u["a"])(m,i,r,!1,null,"7ee78d83",null);e["default"]=p.exports},d7c3:function(t,e,s){},e550:function(t,e,s){"use strict";s("0ea4")}}]);
//# sourceMappingURL=chunk-599e33fe.4c750892.js.map