(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e0af42e"],{"08da":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"boxraduis mt-3"},[s("div",[s("div",{staticClass:"row mt-1 p-2"},[s("h4",[t._v("ข้อมูลของฉัน")]),s("h6",{staticClass:"mb-3"},[t._v(" จัดการข้อมูลส่วนตัวคุณเพื่อความปลอดภัยของบัญชีผู้ใช้นี้ ")]),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-8 boxData"},[s("div",{staticClass:"boxInput"},[s("div",{staticClass:"input-group row"},[t._m(0),s("div",{staticClass:"col-9"},[s("div",{staticClass:"group col-6 m-0 p-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"m-0 p-0",attrs:{type:"text",name:"name"},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value)}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"})])])]),s("div",{staticClass:"input-group row"},[t._m(1),s("div",{staticClass:"col-9"},[s("div",{staticClass:"group col-6 m-0 p-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.last,expression:"last"}],staticClass:"m-0 p-0",attrs:{type:"text",name:"name"},domProps:{value:t.last},on:{input:function(s){s.target.composing||(t.last=s.target.value)}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"})])])]),s("div",{staticClass:"input-group row"},[t._m(2),s("div",{staticClass:"col-9"},[s("div",{staticClass:"group col-6 m-0 p-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"m-0 p-0",attrs:{type:"text",name:"name",readonly:""},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"})])])]),s("div",{staticClass:"input-group row"},[t._m(3),s("div",{staticClass:"col-9"},[s("div",{staticClass:"group col-6 m-0 p-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"m-0 p-0",attrs:{type:"text",name:"name"},domProps:{value:t.phone},on:{input:function(s){s.target.composing||(t.phone=s.target.value)}}}),s("span",{staticClass:"highlight"}),s("span",{staticClass:"bar"})])])]),s("div",{staticClass:"input-group row d-flex align-items-center"},[t._m(4),s("div",{staticClass:"col-9"},[s("div",{staticClass:"p-1"},[s("div",{staticClass:"form-check form-check-inline ml-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"1"},domProps:{checked:t._q(t.gender,"1")},on:{change:function(s){t.gender="1"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio1"}},[t._v("ชาย")])]),s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"2"},domProps:{checked:t._q(t.gender,"2")},on:{change:function(s){t.gender="2"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio2"}},[t._v("หญิง")])])])])]),s("div",{staticClass:"input-group row"},[t._m(5),s("div",{staticClass:"col-9"},[s("Date",{attrs:{day:t.birthday},on:{getDay:t.getDay}})],1)]),s("div",{staticClass:"col-9 ms-auto"},[s("button",{staticClass:"btn mt-4 rounded-pill",on:{click:t.submit}},[t._v(" บันทึก ")])])])]),s("div",{staticClass:"col-4 text-center"},[s("form",{ref:"formImg"},[s("div",{staticClass:"BoximgProfile mx-auto"},[s("img",{staticClass:"rounded-circle",attrs:{src:t.url,alt:""}})]),s("div",{staticClass:"text-center mt-2"},[t._m(6),s("input",{ref:"img",attrs:{id:"file-upload",name:"img",type:"file",accept:"image/*"},on:{change:t.onFileChange}}),s("p",{staticClass:"mt-2"},[t._v("ไฟล์ที่รองรับ: .JPEG, .PNG")])])])])])])])])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-3"},[s("span",{staticClass:"input-group-text"},[t._v("ชื่อ")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-3"},[s("span",{staticClass:"input-group-text"},[t._v("สกุล")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-3"},[s("span",{staticClass:"input-group-text"},[t._v("E-Mail")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-3"},[s("span",{staticClass:"input-group-text"},[t._v("หมายเลขโทรศัพท์")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-3"},[s("span",{staticClass:"input-group-text"},[t._v("เพศ")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-3"},[s("span",{staticClass:"input-group-text"},[t._v("วัน/เดือน/ปี เกิด ")])])},function(){var t=this,s=t._self._c;return s("label",{staticClass:"custom-file-upload",attrs:{for:"file-upload"}},[s("i",{staticClass:"fas fa-image"}),t._v(" เลือกรูป ")])}],n=(a("88a7"),a("271a"),a("5494"),function(){var t=this,s=t._self._c;return s("div",[s("DatePicker",{attrs:{color:"red",locale:"th"},on:{input:t.getDay},scopedSlots:t._u([{key:"default",fn:function({inputValue:t,togglePopover:a}){return[s("div",{staticClass:"input-group boxDate"},[s("div",{staticClass:"mr-1 d-flex align-items-center",on:{click:function(t){return a()}}},[s("i",{staticClass:"fas fa-calendar-day"})]),s("input",{attrs:{readonly:""},domProps:{value:t},on:{click:function(t){return a()}}})])]}}]),model:{value:t.day,callback:function(s){t.day=s},expression:"day"}})],1)}),o=[],l=a("5887"),r={name:"Date",components:{DatePicker:l["DatePicker"]},props:{day:String},data(){return{Date:new Date}},methods:{getDay(){this.$emit("getDay",this.day)}}},c=r,m=(a("0b63"),a("2877")),d=Object(m["a"])(c,n,o,!1,null,"cdb8af06",null),p=d.exports,u=a("bc3a"),h=a.n(u),g={name:"ProfileMe",components:{Date:p},data(){return{id_member:this.$session.get("id_member"),name:"",last:"",email:this.$session.get("email"),phone:"",gender:"",birthday:"",url:""}},methods:{onFileChange(t){const s=t.target.files[0],a="|jpg|png|jpeg",e=s.type.split("/");s&&-1!==a.indexOf(e[1])?(this.url=URL.createObjectURL(s),console.log("Success"),console.log(this.$refs.img.value)):this.$swal({position:"center",icon:"error",title:"ผิดผลาด",text:"รองรับไฟล์: .JPEG, .PNG เท่านั้น",showCancelButton:!1,confirmButtonText:"ตกลง",confirmButtonColor:"#EB4247"}).then(()=>{this.$refs.img.value=null,this.getData()})},getDay(t){this.birthday=t},submit(){h.a.post(this.$URL+"/User/member.php",{action:"update",id_member:this.id_member,firstname:this.name,lastname:this.last,phone:this.phone,gender:this.gender,birthday:this.birthday}).then(()=>{this.$swal({position:"center",icon:"success",title:"อัปเดตข้อมูลสำเร็จ",showConfirmButton:!1,timer:1500})}),this.uploadImg()},getData(){h.a.post(this.$URL+"/User/member.php",{action:"getData",id_member:this.id_member}).then(t=>{this.name=t.data.firstname,this.last=t.data.lastname,this.phone=t.data.phone,this.gender=t.data.gender,this.birthday=t.data.birthday,this.url=`${this.$URL}/img/${t.data.img}`,this.$emit("getImg",`${this.$URL}/img/${t.data.img}`),this.url!=this.$URL+"/img/undefined"&&this.url!=this.$URL+"/img/null"||(this.url=this.$URL+"/img/preview.png"),this.$root.$emit("getImg")})},uploadImg(){const t=new FormData(this.$refs["formImg"]);for(let s in t.entries())t.append(s,t[s]);t.append("id_member",this.$session.get("id_member")),t.append("action","uploadImg"),h.a.post(this.$URL+"/User/member.php",t).then(()=>{this.getData(),this.$refs.img.value=null}).then(()=>{this.$root.$emit("setProfile")})}},mounted(){this.getData(),this.$root.$emit("setProfile"),this.$root.$emit("Profile"),document.title="Pepensuda Shop Profile"}},v=g,f=(a("c11a"),Object(m["a"])(v,e,i,!1,null,"2f201fd3",null));s["default"]=f.exports},"0b63":function(t,s,a){"use strict";a("829d")},"257e":function(t,s,a){},"829d":function(t,s,a){},c11a:function(t,s,a){"use strict";a("257e")}}]);
//# sourceMappingURL=chunk-9e0af42e.7ae58b25.js.map