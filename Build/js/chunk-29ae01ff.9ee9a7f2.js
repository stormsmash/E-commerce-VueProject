(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29ae01ff"],{"0020":function(t,e,s){"use strict";s("d9af")},"035f":function(t,e,s){t.exports=s.p+"img/cartBank.d6e9255e.png"},"05cb":function(t,e,s){"use strict";s("4071")},1236:function(t,e,s){t.exports=s.p+"img/address.7a79a5cb.png"},"21fd":function(t,e,s){},"294b":function(t,e,s){t.exports=s.p+"img/sleep.2cd1701f.png"},"2ab2":function(t,e,s){"use strict";s("b6a6")},"2f9a":function(t,e,s){t.exports=s.p+"img/pay.591e990f.png"},"3eda":function(t,e,s){},4071:function(t,e,s){},"76a1":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("Topic"),e("div",{staticClass:"col-10 mx-auto"},[null==t.cartList[0]?e("div",{staticClass:"mt-3 p-5 bg-white d-flex flex-column justify-content-center align-items-center boxnone"},[e("img",{attrs:{src:s("035f"),alt:"",width:"150px"}}),e("h5",{staticClass:"mt-3"},[t._v("ไม่พบสินค้าในตะกร้า...")]),e("router-link",{staticClass:"mt-3",attrs:{to:"/"}},[e("button",{staticClass:"btnCart rounded-pill"},[t._v("ช้อปปิ้งกันเลย")])])],1):t._e(),t.cartList[0]?e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-8"},[e("div",{staticClass:"d-flex justify-content-between"},[e("AddressOrder",{staticClass:"mb-2 col-6",attrs:{data:t.cartList}}),e("DeliveryOrder",{staticClass:"mb-2 col-6"})],1),e("OrderList",{attrs:{data:t.cartList}})],1),e("div",{staticClass:"col-4 ms-auto"},[e("div",{staticClass:"boxfixed"},[e("OrderCart",{attrs:{data:t.cartList}}),e("PayBank",{attrs:{data:t.cartList}})],1)])]):t._e()])],1)},a=[],r=function(){var t=this;t._self._c;return t._m(0)},n=[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"topic container-fluid d-flex align-items-center"},[e("div",{staticClass:"boxtopic d-flex align-items-center justify-content-between"},[e("div",{staticClass:"boximg"},[e("img",{attrs:{src:s("2f9a"),alt:""}})]),e("div",{staticClass:"line"}),e("div",{staticClass:"textTopic"},[t._v("ชำระเงิน")])])])])}],c={name:"Topic",props:{Profile:String},methods:{}},l=c,o=(s("ff5d"),s("2877")),d=Object(o["a"])(l,r,n,!1,null,"ee6885bc",null),m=d.exports,u=function(){var t=this,e=t._self._c;return e("div",{},[t._m(0),t._l(t.data,(function(s,i){return e("div",{key:i,staticClass:"row bg-white my-1 border py-2 boxraduis"},[e("div",{staticClass:"col-6 d-flex align-items-center"},[e("div",[e("img",{attrs:{src:`${t.$URL}/imgProduct/${s.img_product}`,alt:"",width:"100px"}})]),e("div",[e("p",{staticClass:"ps-3"},[t._v(" "+t._s(s.productName)+" ")])])]),e("div",{staticClass:"col-2 text-center d-flex justify-content-center align-items-center"},[t._v(" ฿ "+t._s(t._f("numFormat")(s.productPrice))+" ")]),e("div",{staticClass:"col-2 d-flex justify-content-center align-items-center"},[e("div",{staticClass:"row"},[e("div",{staticClass:"boxnum d-flex align-items-center"},[e("input",{ref:"input_"+i,refInFor:!0,attrs:{type:"number",readonly:""},domProps:{value:s.qty}}),e("input",{ref:"id_"+i,refInFor:!0,attrs:{type:"hidden"},domProps:{value:s.id_product}}),e("input",{ref:"idCart_"+i,refInFor:!0,attrs:{type:"hidden"},domProps:{value:s.id_cart}})])])]),e("div",{staticClass:"col-2 position-relative d-flex align-items-center justify-content-center"},[e("p",{staticClass:"text-center p-0 m-0"},[t._v(" ฿ "),e("animated-number",{attrs:{value:s.productPrice*s.qty,formatValue:t.formatToPrice,duration:500}})],1)])])}))],2)},p=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row bg-white py-3 border boxraduis"},[e("div",{staticClass:"col-6 d-flex align-items-center justify-content-start"},[e("h2",{staticClass:"p-0 m-0"},[t._v("รายการสินค้า")])]),e("div",{staticClass:"col-2 text-center boxMenu"},[t._v("ราคา")]),e("div",{staticClass:"col-2 text-center boxMenu"},[t._v("จำนวน")]),e("div",{staticClass:"col-2 text-center boxMenu"},[t._v("ยอดรวมสินค้า")])])}],f=s("044d"),v=s.n(f),b={name:"OrderList",props:{data:Array},components:{AnimatedNumber:v.a},data(){return{id_member:this.$session.get("id_member")}},methods:{formatToPrice(t){var e=""+t.toFixed(),s=(new Intl.NumberFormat).format(e);return s}}},h=b,_=(s("f633"),Object(o["a"])(h,u,p,!1,null,"4d9a88fb",null)),C=_.exports,g=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row bg-white border p-3 ms-3 boxraduis"},[e("h2",[t._v("สรุปใบสั่งซื้อ #"+t._s(t.data[0].id_order))]),e("hr"),e("div",[e("div",{staticClass:"d-flex justify-content-between align-items-center mt-4"},[e("h4",{staticClass:"p-0 m-0"},[t._v("ยอดรวมการสั่งซื้อทั้งหมด")]),e("div",{staticClass:"text-price"},[t._v(" ฿ "),e("animated-number",{staticClass:"text-price",attrs:{value:t.data[0].total+t.data[0].deliverPrice,formatValue:t.formatToPrice,duration:500}})],1)])])])])},x=[],y={name:"OrderCart",props:{data:Array},components:{AnimatedNumber:v.a},data(){return{deliverPrice:45,id_user:this.$session.get("id_member"),Total:0}},methods:{formatToPrice(t){var e=""+t.toFixed(),s=(new Intl.NumberFormat).format(e);return s}},created(){this.Total=this.data+this.deliverPrice}},k=y,P=(s("05cb"),Object(o["a"])(k,g,x,!1,null,"18154f2a",null)),w=P.exports,$=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row bg-white border p-3 boxraduis position-relative w-100 h-100 boxAddress"},[t._m(0),e("hr"),t._l(t.data,(function(s,i){return e("div",{key:i,staticClass:"h-100 w-100"},[0==i?e("div",[e("p",{staticClass:"m-0 p-0"},[t._v("ชื่อ "+t._s(s.name))]),e("p",{staticClass:"m-0 p-0"},[t._v("เบอร์โทร "+t._s(s.phone))]),e("p",{staticClass:"m-0 p-0"},[t._v("ที่อยู่ "+t._s(s.address))]),e("p",{staticClass:"m-0 p-0"},[t._v(" ต."+t._s(s.TambonName)+" อ."+t._s(s.DistrictName)+" ")]),e("p",{staticClass:"m-0 p-0"},[t._v("จ."+t._s(s.ProvinceThai)+" "+t._s(s.zipcode))])]):t._e()])}))],2)])},B=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center mb-2"},[e("img",{staticClass:"iconHeader me-3",attrs:{src:s("1236"),alt:""}}),e("h5",[t._v("ที่อยู่ในการจัดส่ง")])])}],O={name:"AddressOrder",props:{data:Array},data(){return{test:"ne"}},created(){this.test=this.data}},I=O,j=(s("0020"),Object(o["a"])(I,$,B,!1,null,"79c9f4c1",null)),D=j.exports,L=function(){var t=this;t._self._c;return t._m(0)},T=[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row bg-white border p-3 ms-3 boxraduis position-relative w-100 h-100 boxAddress"},[e("div",{staticClass:"d-flex align-items-center mb-2"},[e("img",{staticClass:"iconHeader me-3",attrs:{src:s("797a"),alt:""}}),e("h5",[t._v("ตัวเลือกการจัดส่ง")])]),e("hr"),e("div",{staticClass:"h-100 w-100"},[t._v("Kerry Express Thailand เคอรี่ เอ็กซ์เพรส")])])])}],A={name:"DeliveryOrder"},F=A,N=(s("d1fb"),Object(o["a"])(F,L,T,!1,null,"bfcef0ce",null)),U=N.exports,R=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row bg-white p-3 mt-3 ms-3 boxraduis boxPay"},[e("h2",[t._v("แจ้งชำระเงิน")]),e("hr"),e("div",[e("div",{staticClass:"mt-5"},[e("Select",{attrs:{v:t.$v.form.IDBank,inputname:"productBrand",text:"เลือกธนาคารที่ชำระเงิน",Data:t.Bank},model:{value:t.form.IDBank,callback:function(e){t.$set(t.form,"IDBank",e)},expression:"form.IDBank"}})],1),t._l(t.Bank,(function(s,i){return e("div",{key:i},[s.id_bank==t.form.IDBank?e("div",{staticClass:"d-flex align-items-center mb-3"},[e("img",{attrs:{src:`${t.$URL}/imgBank/${s.bank_img}`,alt:"",width:"76px"}}),e("div",{staticClass:"ms-3"},[e("p",{staticClass:"p-0 m-0"},[t._v("ชื่อบัญชี "+t._s(s.bank_name))]),e("p",{staticClass:"p-0 m-0"},[t._v("เลขบัญชี "+t._s(s.bank_num))])])]):t._e()])})),e("DatePicker",{attrs:{"is-red":"",color:"red",mode:"dateTime",locale:"th",is24hr:""},scopedSlots:t._u([{key:"default",fn:function({inputValue:s,inputEvents:i}){return[e("div",{staticClass:"d-block group"},[e("p",{staticClass:"texttime mb-2 p-0"},[t._v("วันที่และเวลาที่โอน")]),e("input",t._g({staticClass:"m-0 p-0",domProps:{value:s}},i))])]}}]),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),e("div",{staticClass:"position-relative"},[e("Input",{attrs:{v:t.$v.form.Price,inputname:"price",text:"จำนวนเงินที่โอน"},model:{value:t.form.Price,callback:function(e){t.$set(t.form,"Price",e)},expression:"form.Price"}}),t.$v.form.Price.numeric?t._e():e("span",{staticClass:"text-danger textErrorPrice"},[t._v("กรุณาใส่จำนวนเงิน")])],1),e("div",{staticClass:"row d-flex justify-content-between"},[e("div",{staticClass:"col-6"},[e("p",{staticClass:"texttime mb-2 p-0"},[t._v("อัปโหลดหลักฐานการชำระเงิน")]),t._m(0),e("input",{ref:"file",attrs:{id:"file-upload-bank",type:"file",accept:".jpg,.jpeg,.png"},on:{change:t.onChange}}),null==t.filelist[0]?e("p",{staticClass:"text-danger"},[t._v(" กรุณาเลือกรูปภาพ ")]):t._e(),e("p",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-pay",modifiers:{"modal-pay":!0}}],staticClass:"text_imgpay"},[t._v(" ตัวอย่างหลักฐานการชำระเงิน ")]),e("b-modal",{ref:"modal-pay",attrs:{id:"modal-pay",centered:"",title:"ตัวอย่างหลักฐานการชำระเงิน","hide-footer":""}},[e("div",[e("p",{staticClass:"my-4"},[e("img",{staticClass:"sleep",attrs:{src:s("294b"),alt:""}})]),e("div",[e("button",{staticClass:"btn btn-sm btn-danger rounded-pill mx-auto d-block",attrs:{type:"reset"},on:{click:function(e){return t.$refs["modal-pay"].hide()}}},[t._v(" ตกลง ")])])])])],1),e("div",{staticClass:"col-6"},t._l(t.Img,(function(s,i){return e("div",{key:i},[e("div",{staticClass:"position-relative boxImg"},[e("img",{staticClass:"img-fluid",attrs:{src:""+s.url,alt:"",width:""}}),e("button",{staticClass:"ml-2 btn btn-danger btn-sm",attrs:{type:"button",title:"Remove file"},on:{click:function(e){return t.remove(i)}}},[t._v(" X ")])])])})),0)]),e("div",{staticClass:"text-center mt-3"},[e("button",{staticClass:"btnCart rounded-pill mx-auto",on:{click:t.submitPay}},[t._v(" ส่งหลักฐานการชำระเงิน ")])])],2)])])},E=[function(){var t=this,e=t._self._c;return e("label",{staticClass:"custom-file-upload",attrs:{for:"file-upload-bank"}},[e("i",{staticClass:"fas fa-image"}),t._v(" อัปโหลดรูป ")])}],q=(s("14d9"),s("88a7"),s("271a"),s("5494"),s("45b1")),S=s("f4e5"),M=s("5887"),J=s("b5ae"),V=s("bc3a"),G=s.n(V),H={name:"PayBank",props:{data:Array},components:{Select:q["a"],Input:S["a"],DatePicker:M["DatePicker"]},data(){return{deliverPrice:45,id_user:this.$session.get("id_member"),Total:0,IDOrder:this.data[0].id_order,Bank:[],filelist:[],date:new Date,Img:[],form:{IDBank:null,Price:null}}},validations:{form:{IDBank:{required:J["required"]},Price:{required:J["required"],minLength:Object(J["minLength"])(1),numeric:J["numeric"]}}},methods:{getBank(){G.a.post(this.$URL+"/Admin/bank.php",{action:"getBankShow"}).then(t=>{this.Bank=t.data}).catch(t=>{console.log(t)})},selectBank(t){alert(t)},getDay(t){this.Datetime=t},onChange(){this.filelist=[...this.$refs.file.files];const t="|jpg|png|jpeg",e=this.filelist[0].type.split("/");null!=this.filelist[0]&&-1!==t.indexOf(e[1])?this.Img=this.filelist.map((t,e)=>({key:e,name:t.name,url:URL.createObjectURL(t)})):this.$swal({position:"center",icon:"error",title:"ผิดผลาด",text:"รองรับไฟล์: .JPEG, .PNG เท่านั้น",showCancelButton:!1,confirmButtonText:"ตกลง",confirmButtonColor:"#EB4247"}).then(()=>{this.filelist[0]=null,this.Img=null})},remove(t){this.filelist.splice(t,1),this.Img.splice(t,1),this.$refs.file.FileList.splice(t,1)},submitPay(){if(this.$v.$touch(),this.$v.$invalid||null==this.filelist[0])console.log("Error");else{const t=new FormData;t.append("id_bank",this.form.IDBank),t.append("id_order",this.IDOrder),t.append("date",this.date),t.append("price",this.form.Price),t.append("img",this.filelist[0]),t.append("action","submitPay"),G.a.post(this.$URL+"/User/pay.php",t).then(()=>{this.$swal({position:"center",icon:"success",text:"แจ้งชำระเงินสำเร็จ",showConfirmButton:!1,timer:1500}).then(()=>{this.$router.push("/Profile/OrderMe/Order/All")})})}}},created(){this.getBank()}},z=H,K=(s("2ab2"),Object(o["a"])(z,R,E,!1,null,"5d3ee4aa",null)),X=K.exports,Q={name:"Pay",components:{Topic:m,OrderList:C,OrderCart:w,AddressOrder:D,DeliveryOrder:U,PayBank:X},data(){return{cartList:[],id_member:this.$session.get("id_member"),id_order:this.$route.params.id,totalCart:0,id_Address:"test"}},methods:{getPay(){G.a.post(this.$URL+"/User/pay.php",{action:"getPay",id_member:this.id_member,id_order:this.id_order}).then(t=>{this.cartList=t.data,this.sumTotal()})},sumTotal(){var t=0;return this.cartList.forEach(e=>{t+=e.productPrice*e.Total}),this.totalCart=t}},created(){this.getPay(),document.title="Pepensuda Shop Pay"}},W=Q,Y=(s("da97"),Object(o["a"])(W,i,a,!1,null,"1c4570a3",null));e["default"]=Y.exports},"797a":function(t,e,s){t.exports=s.p+"img/box_address.7ad0b4c2.png"},"7ecb":function(t,e,s){},b6a6:function(t,e,s){},d1fb:function(t,e,s){"use strict";s("7ecb")},d9af:function(t,e,s){},da97:function(t,e,s){"use strict";s("3eda")},dfaf:function(t,e,s){},f633:function(t,e,s){"use strict";s("21fd")},ff5d:function(t,e,s){"use strict";s("dfaf")}}]);
//# sourceMappingURL=chunk-29ae01ff.9ee9a7f2.js.map