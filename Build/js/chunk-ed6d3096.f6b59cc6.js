(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed6d3096"],{"00ee":function(t,e,r){"use strict";var s=r("b622"),i=s("toStringTag"),a={};a[i]="z",t.exports="[object z]"===String(a)},"035f":function(t,e,r){t.exports=r.p+"img/cartBank.d6e9255e.png"},"0cb2":function(t,e,r){"use strict";var s=r("e330"),i=r("7b0b"),a=Math.floor,n=s("".charAt),o=s("".replace),d=s("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,s,u,p){var _=r+t.length,m=s.length,f=c;return void 0!==u&&(u=i(u),f=l),o(p,f,(function(i,o){var l;switch(n(o,0)){case"$":return"$";case"&":return t;case"`":return d(e,0,r);case"'":return d(e,_);case"<":l=u[d(o,1,-1)];break;default:var c=+o;if(0===c)return i;if(c>m){var p=a(c/10);return 0===p?i:p<=m?void 0===s[p-1]?n(o,1):s[p-1]+n(o,1):i}l=s[c-1]}return void 0===l?"":l}))}},2807:function(t,e,r){"use strict";r("d4ca")},"44e7":function(t,e,r){"use strict";var s=r("861d"),i=r("c6b6"),a=r("b622"),n=a("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[n])?!!e:"RegExp"===i(t))}},"577e":function(t,e,r){"use strict";var s=r("f5df"),i=String;t.exports=function(t){if("Symbol"===s(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},"5b81":function(t,e,r){"use strict";var s=r("23e7"),i=r("c65b"),a=r("e330"),n=r("1d80"),o=r("1626"),d=r("7234"),l=r("44e7"),c=r("577e"),u=r("dc4a"),p=r("90d8"),_=r("0cb2"),m=r("b622"),f=r("c430"),v=m("replace"),x=TypeError,C=a("".indexOf),h=a("".replace),b=a("".slice),g=Math.max;s({target:"String",proto:!0},{replaceAll:function(t,e){var r,s,a,m,w,y,$,O,T,D,P=n(this),j=0,A="";if(!d(t)){if(r=l(t),r&&(s=c(n(p(t))),!~C(s,"g")))throw new x("`.replaceAll` does not allow non-global regexes");if(a=u(t,v),a)return i(a,t,P,e);if(f&&r)return h(c(P),t,e)}m=c(P),w=c(t),y=o(e),y||(e=c(e)),$=w.length,O=g(1,$),T=C(m,w);while(-1!==T)D=y?c(e(w,T,m)):_(w,m,T,[],void 0,e),A+=b(m,j,T)+D,j=T+$,T=T+O>m.length?-1:C(m,w,T+O);return j<m.length&&(A+=b(m,j)),A}})},"5da7":function(t,e,r){"use strict";r("62d9")},"62d9":function(t,e,r){},"90d8":function(t,e,r){"use strict";var s=r("c65b"),i=r("1a2d"),a=r("3a9b"),n=r("ad6d"),o=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in o||i(t,"flags")||!a(o,t)?e:s(n,t)}},ad6d:function(t,e,r){"use strict";var s=r("825a");t.exports=function(){var t=s(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},ba80:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("transition",{attrs:{name:"fade",mode:"out-in"}},[""==t.filterList?e("div",{key:t.Num},[e("div",{staticClass:"my-3 p-5 bg-white d-flex flex-column justify-content-center align-items-center boxnone"},[e("img",{attrs:{src:r("035f"),alt:"",width:"150px"}}),e("h5",{staticClass:"mt-3"},[t._v("ยังไม่มีการสั่งซื้อ...")]),e("router-link",{staticClass:"mt-3",attrs:{to:"/"}},[e("button",{staticClass:"btn btnAll rounded-pill"},[t._v("ช้อปปิ้งกันเลย")])])],1)]):t._e(),t.filterList?e("div",{key:t.Num},t._l(t.filterList,(function(r,s){return e("div",{key:s,staticClass:"boxraduis my-3"},[e("div",{staticClass:"p-0 m-0 px-5 py-1 d-flex justify-content-between align-item-center"},[e("div",{staticClass:"p-0 m-0 textHeader"},[t._v(" เลขที่ใบสั่งซื้อ #"+t._s(r.id_order)+" วันที่สั่ง "+t._s(t._f("dateFormat")(new Date(t.formatToDate(r.order_date)),"DD/MM/YYYY"))+" เวลา "+t._s(t.formatToTime(r.order_date))+" ")]),5==r.status_order?e("div",{staticClass:"p-0 m-0"},[e("Print",{attrs:{data:t.orderList.filter(t=>t.id_order==r.id_order),dataList:t.orderDetail.filter(t=>t.id_order==r.id_order)}})],1):t._e()]),e("div",{staticClass:"row"},[t._l(t.orderDetail.filter(t=>t.id_order==r.id_order),(function(r,s){return e("div",{key:s,staticClass:"row ps-3 p0 m-0"},[e("hr",{staticClass:"mt-2 lineTop"}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-8 d-flex"},[e("img",{staticClass:"boximg me-3",attrs:{src:`${t.$URL}/imgProduct/${r.img_product}`,alt:""}}),e("div",[e("p",{staticClass:"pt-2"},[t._v(t._s(r.productName))]),e("p",[t._v("จำนวน "+t._s(r.qty)+" ชิ้น")])])]),e("div",{staticClass:"col-4 d-flex align-items-center justify-content-end px-5"},[t._v(" ฿ "+t._s(t._f("numFormat")(r.qty*r.productPrice))+" ")])])])})),e("hr",{staticClass:"my-4 lineEnd"}),e("div",{staticClass:"boxFooter"},[e("div",{staticClass:"d-flex justify-content-end align-items-center px-5"},[e("h5",{staticClass:"me-3"},[t._v("ยอดคำสั่งซื้อทั้งหมด")]),e("h4",{staticClass:"textPrice"},[t._v(" ฿ "+t._s(t._f("numFormat")(r.total+r.deliverPrice))+" ")])]),e("div",{staticClass:"status"},[0==r.status_order?e("div",{staticClass:"d-flex justify-content-between align-items-center px-5 my-3"},[e("p",{staticClass:"p-0 m-0 text-danger fw-bolder"},[t._v(" กรุณาชำระเงินภายในวันที่ "+t._s(t._f("dateFormat")(new Date(t.formatToDate(r.date_exe)),"DD/MM/YYYY"))+" เวลา "+t._s(t.formatToTime(r.date_exe))+" ")]),e("div",{staticClass:"row"},[e("btn",{staticClass:"btn btnError rounded-pill ms-1",on:{click:function(e){return t.submitError(r.id_order)}}},[t._v(" ยกเลิก ")]),e("router-link",{staticClass:"btn btnAll rounded-pill ms-1",attrs:{to:"/Pay/"+r.id_order}},[t._v(" แจ้งชำระเงิน ")])],1)]):t._e(),1==r.status_order?e("div",{staticClass:"jusCenter"},[e("div",{staticClass:"btn btnAll rounded-pill"},[t._v("รอการตรวจสอบ")])]):t._e(),2==r.status_order?e("div",{staticClass:"jusCenter"},[e("div",{staticClass:"btn btnAll rounded-pill"},[t._v("รอการจัดส่ง")])]):t._e(),3==r.status_order?e("div",{staticClass:"jusCenter"},[e("div",{staticClass:"btn btnError rounded-pill"},[t._v("ไม่สำเร็จ")])]):t._e(),4==r.status_order?e("div",{staticClass:"jusBetween"},[e("div",[e("p",[t._v(" เลขพัสดุ "),null==r.order_post?e("span",[t._v("xxx-xxx-xxxx ")]):t._e(),""!=r.order_post?e("span",[t._v(t._s(r.order_post)+" ")]):t._e()]),null!=r.delivery_EXE?e("p",[t._v(" ยืนยันการรับสินค้าภายในวัน "+t._s(t._f("dateFormat")(new Date(t.formatToDate(r.delivery_EXE)),"DD/MM/YYYY"))+" ")]):t._e()]),e("div",{staticClass:"btn btnAll rounded-pill",on:{click:function(e){return t.submitOrder(r.id_order)}}},[t._v(" ยืนยันการรับสินค้า ")])]):t._e(),5==r.status_order?e("div",{staticClass:"jusBetween"},[e("p",[t._v(" เลขพัสดุ "),null==r.order_post?e("span",[t._v("xxx-xxx-xxxx ")]):t._e(),""!=r.order_post?e("span",[t._v(t._s(r.order_post)+" ")]):t._e()]),e("div",{staticClass:"btn btnAll rounded-pill"},[t._v("สำเร็จ")])]):t._e()])])],2)])})),0):t._e()])],1)},i=[],a=(r("5b81"),r("bc3a")),n=r.n(a),o=function(){var t=this,e=t._self._c;return e("div",{},[e("button",{staticClass:"btn btn-dark ms-auto",on:{click:function(e){return t.print(t.data[0].id_order)}}},[t._v(" พิมพ์ใบเสร็จ ")]),e("div",{staticClass:"product px-1 d-none",attrs:{id:t.data[0].id_order}},[e("div",{staticClass:"row border-bottom pb-3"},[e("div",{staticClass:"text-center"},[e("h3",{staticClass:"p-0 m-0"},[t._v("Pepensuda Shop")]),e("p",{staticClass:"p-0 m-0"},[t._v("ใบเสร็จรับเงิน")]),e("p",{staticClass:"p-0 m-0"},[t._v("เลขที่ใบสั่งซื้อ #"+t._s(t.data[0].id_order))])])]),t._m(0),t._l(t.dataList,(function(r,s){return e("div",{key:s,staticClass:"row bg-white my-1"},[e("div",{staticClass:"col-6 d-flex"},[e("p",{staticClass:"p-0 m-0"},[t._v(" "+t._s(r.productName)+" ")])]),e("div",{staticClass:"col-2 text-end"},[t._v(" "+t._s(t._f("numFormat")(r.productPrice))+" ")]),e("div",{staticClass:"col-2 d-flex justify-content-center"},[e("div",{staticClass:"row"},[e("div",{staticClass:"boxnum d-flex"},[t._v(" "+t._s(r.qty)+" ")])])]),e("div",{staticClass:"col-2 position-relative d-flex justify-content-end"},[e("p",{staticClass:"text-end p-0 m-0 px-3"},[e("animated-number",{attrs:{value:r.productPrice*r.qty,formatValue:t.formatToPrice,duration:500}})],1)])])})),e("div",{staticClass:"row"},[e("p",{staticClass:"col-12 text-end px-3 p-0 m-0"},[t._v(" ค่าจัดส่ง "+t._s(t._f("numFormat")(t.data[0].deliverPrice))+" บาท ")]),e("p",{staticClass:"col-12 text-end px-3 p-0 m-0"},[t._v(" สินค้า "+t._s(t._f("numFormat")(t.data[0].total))+" บาท ")]),e("p",{staticClass:"col-12 text-end px-3 p-0 m-0"},[t._v(" รวมทั้งหมด "+t._s(t._f("numFormat")(t.data[0].total+t.data[0].deliverPrice))+" บาท ")])]),t._m(1)],2)])},d=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row bg-white"},[e("div",{staticClass:"col-6 d-flex align-items-center justify-content-start"},[e("h2",{staticClass:"p-0 m-0 boxMenu"},[t._v("รายการสินค้า")])]),e("div",{staticClass:"col-2 text-end boxMenu"},[t._v("ราคา")]),e("div",{staticClass:"col-2 text-end boxMenu"},[t._v("จำนวน")]),e("div",{staticClass:"col-2 text-end boxMenu text-nowrap"},[t._v("ยอดรวมสินค้า")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center border-top py-3"},[e("p",{staticClass:"p-0 m-0"},[t._v("IT 25-26 ชั้นที่ 3 ศูนย์การค้าแฟชั่นไอซ์แลนด์")]),e("p",{staticClass:"p-0 m-0"},[t._v("ถนนรามอินทรา แขวงคันนายาว เขตคันนายาว")]),e("p",{staticClass:"p-0 m-0"},[t._v("กรุงเทพมหานคร 10230")])])}],l=r("044d"),c=r.n(l),u={name:"Print",props:{data:Array,dataList:Array},components:{AnimatedNumber:c.a},methods:{formatToPrice(t){var e=""+t.toFixed(),r=(new Intl.NumberFormat).format(e);return r},async print(t){await this.$htmlToPaper(""+t)}}},p=u,_=(r("2807"),r("2877")),m=Object(_["a"])(p,o,d,!1,null,"47b3dc10",null),f=m.exports,v={name:"Order",components:{Print:f},data(){return{orderList:[],orderDetail:[],id_user:this.$session.get("id_member"),idMenu:this.$route.params.id,Num:0}},methods:{getOrder(){n.a.post(this.$URL+"/User/profileOrder.php",{action:"getOrder",id_user:this.$session.get("id_member")}).then(t=>{this.orderList=t.data})},getDetail(){n.a.post(this.$URL+"/User/profileOrder.php",{action:"getDetail"}).then(t=>{this.orderDetail=t.data})},submitOrder(t){this.$swal({icon:"info",title:"ยืนยันการรับสินค้า",showCancelButton:!0,confirmButtonText:"ตกลง",confirmButtonColor:"#1C9E3F",cancelButtonText:"ยกเลิก",cancelButtonColor:"#EB4247"}).then(e=>{e.isConfirmed&&this.confirmOrder(t)})},confirmOrder(t){n.a.post(this.$URL+"/User/profileOrder.php",{action:"UpdateOrderConfirm",id_order:t}).then(()=>{this.getOrder(),this.$emit("Confirm")})},submitError(t){this.$swal({icon:"error",title:"ยกเลิกรายการ",showCancelButton:!0,confirmButtonText:"ตกลง",confirmButtonColor:"#1C9E3F",cancelButtonText:"ยกเลิก",cancelButtonColor:"#EB4247"}).then(e=>{e.isConfirmed&&this.errorOrder(t)})},errorOrder(t){n.a.post(this.$URL+"/Admin/Orders.php",{action:"UpdateOrder",id_order:t,status:3}).then(()=>{this.getOrder(),this.$emit("Confirm")})},formatToDate(t){var e=t.substring(0,10),r=e.replaceAll("-","/");return r},formatToTime(t){var e=t.substring(11,19);return e},async print(t){await this.$htmlToPaper(""+t)},changeNum(){this.Num=Math.floor(99*Math.random()-1)}},created(){this.getOrder(),this.getDetail(),this.$root.$emit("setOrder"),this.$root.$emit("Order"),document.title="Pepensuda Shop OrderMe"},watch:{$route(){this.changeNum(),this.getOrder(),this.$emit("Confirm")}},computed:{filterList(){let t=this.$route.params.id,e=this.orderList;if("All"==t)e=e.filter(t=>t.status_order>=0);else if("Pay"==t)e=e.filter(t=>0==t.status_order||1==t.status_order);else if("Delivery"==t)e=e.filter(t=>2==t.status_order);else if("Confirm"==t)e=e.filter(t=>4==t.status_order);else if("Success"==t)e=e.filter(t=>5==t.status_order);else{if("Error"!=t)return;e=e.filter(t=>3==t.status_order)}return e}}},x=v,C=(r("5da7"),Object(_["a"])(x,s,i,!1,null,"541d76c1",null));e["default"]=C.exports},d4ca:function(t,e,r){},f5df:function(t,e,r){"use strict";var s=r("00ee"),i=r("1626"),a=r("c6b6"),n=r("b622"),o=n("toStringTag"),d=Object,l="Arguments"===a(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(r){}};t.exports=s?a:function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=c(e=d(t),o))?r:l?a(e):"Object"===(s=a(e))&&i(e.callee)?"Arguments":s}}}]);
//# sourceMappingURL=chunk-ed6d3096.f6b59cc6.js.map